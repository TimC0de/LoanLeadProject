<div class="border border-secondary m-3 p-3 bg-white rounded" style="position: relative; z-index: 2;">
  <div class="py-2">
    <label class="rounded col-lg-2 col-md-3 col-sm-6 col py-2 page-heading d-flex align-items-center justify-content-center">
      <i class="material-icons">person</i>&nbsp;Loan Form</label>
  </div>
  <hr>
  <div class="py-2">
    <form action="/loan" method="post" class="form-horizontal form-with-image" [formGroup]="formGroup" (ngSubmit)="submit()">
      <fieldset class="border border-yellow rounded">
        <legend class="d-block w-auto ml-3 text-dark-blue">Form</legend>

        <div class="row px-4">
          <div class="responsive-form-group w-100 justify-content-center">
            <div class="col-lg-4 col-md-5 col-12">
              <div class="form-group">
                <label for="type">Loan Type</label>
                <select class="item_text3 form-control" id="type" formControlName="type" (change)="validate()">
                  <option value="" disabled selected>Chose loan group</option>
                  <option value="Group Loans">Group Loans</option>
                  <option value="MSE">MSE</option>
                </select>
                <div class="feedback text-danger">
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-md-5 col-12"></div>
          </div>
        </div>
        <div class="row px-4">
          <div class="responsive-form-group w-100 justify-content-center">
            <div class="col-lg-4 col-md-5 col-12">
              <div class="form-group">
                <label for="amount">Amount</label>
                <input type="number" id="amount" class="form-control" placeholder="Amount" formControlName="amount" (input)="validate()">
                <div class="feedback text-danger">
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-md-5 col-12">
              <div class="form-group">
                <label for="tenure">Tenure</label>
                <input type="number" id="tenure" class="form-control" placeholder="Tenure" formControlName="tenure" (input)="validate()">
                <div class="feedback text-danger">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row px-4">
          <div class="responsive-form-group w-100 justify-content-center">
            <ng-container *ngIf="customers">
              <div class="col-lg-4 col-md-5 col-12">
                <div class="form-group dropdown">
                  <label for="customer">Customer</label>
                  <input
                    type="text"
                    class="dropdown-toggle form-control"
                    id="customer"
                    placeholder="Customer"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                    autocomplete="off"
                    formControlName="customer"
                    (input)="filterCustomers()"
                    (blur)="customerExists()">
                  <div class="feedback text-danger">
                  </div>
                  <ul class="dropdown-menu" aria-labelledby="customer" id="customersList" *ngIf="matchingCustomers">
                    <li class="dropdown-item" *ngFor="let customer of matchingCustomers" [id]="customer.id" (click)="setCustomer(customer.name)">{{ customer.name }}</li>
                  </ul>
                </div>
              </div>
            </ng-container>
            <ng-container *ngIf="loanProducts">
              <div class="col-lg-4 col-md-5 col-12">
                <div class="form-group">
                  <label for="loanProduct">Product</label>
                  <select class="item_text3 form-control" id="loanProduct" formControlName="loanProduct" (change)="validate()">
                    <option value="" disabled selected>Chose loan type</option>
                    <option *ngFor="let loanProduct of loanProducts" [value]="loanProduct.id">{{ loanProduct.loanProduct }}</option>
                  </select>
                  <div class="feedback text-danger">
                  </div>
                </div>
              </div>
            </ng-container>
          </div>
        </div>
        <div class="row px-4">
          <div class="responsive-form-group w-100 justify-content-center">
            <div class="col-lg-4 col-md-5 col-12">
              <div class="form-group">
                <label for="securityTypes">Type Of Security</label>
                <select multiple id="securityTypes" name="securityTypes" class="form-control" formControlName="securityTypes">
                  <option value="Household chattels" selected>Household chattels</option>
                  <option value="Motor vehicle">Motor vehicle</option>
                  <option value="Land sale agreement">Land sale agreement</option>
                  <option value="Land title">Land title</option>
                  <option value="Equipment">Equipment</option>
                  <option value="Cash">Cash</option>
                  <option value="Salary">Salary</option>
                  <option value="Group guarantee">Group guarantee</option>
                  <option value="Unsecure">Unsecure</option>
                </select>
                <div class="feedback text-danger">
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-md-5 col-12"></div>
          </div>
        </div>
        <hr>
        <div class="d-flex flex-row pt-2 pb-4 justify-content-end">
          <a routerLink="/dashboard"
             class="no-decoration btn btn-secondary submit-button d-flex col-2 align-items-center justify-content-center mr-4">
            <i class="material-icons">arrow_back</i>&nbsp;Back
          </a>
          <button type="submit"
                  class="btn btn-primary submit-button d-flex col-2 justify-content-center mr-4" [disabled]="!formGroup.valid">Save
          </button>
        </div>
      </fieldset>
    </form>
  </div>
</div>
