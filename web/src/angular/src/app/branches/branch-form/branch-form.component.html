<loanlead-admin-navigation></loanlead-admin-navigation>
<ng-container *ngIf="entities$ | async as entities">
  <div class="border border-secondary m-3 p-3 bg-white rounded" style="position: relative; z-index: 2;">
    <div class="py-2">
      <label
        class="rounded col-lg-2 col-md-3 col-sm-6 col py-2 page-heading d-flex align-items-center justify-content-center">
        <i class="material-icons">person</i>&nbsp;Branch Form</label>
    </div>
    <hr>
    <div class="py-2">
      <form [formGroup]="formGroup" action="/branches" method="POST" class="form-horizontal form-with-image" (ngSubmit)="submit()">
        <fieldset class="border border-yellow rounded">
          <legend class="d-block w-auto ml-3 text-dark-blue">Form</legend>

          <div class="row px-4 justify-content-center">
            <div class="col-lg-5 col-md-6 col-12 d-flex justify-content-center flex-column">
              <div class="form-group pl-3">
                <label for="name">Name</label>
                <input id="name"
                       class="form-control"
                       type="text"
                       placeholder="Name"
                       formControlName="name"
                       autocomplete="off"
                       (input)="validate()"
                       (blur)="isUnique('name')"
                       required>
                <div class="feedback text-danger">

                </div>
              </div>
              <div class="form-group pl-3">
                <label for="type">Type</label>
                <input id="type"
                       class="form-control"
                       type="text"
                       placeholder="Type"
                       formControlName="type"
                       autocomplete="off"
                       (input)="validate()"
                       required>
                <div class="feedback text-danger">
                </div>
              </div>
            </div>
          </div>
          <div class="row px-4">
            <div class="responsive-form-group w-100 justify-content-center">
              <div class="col-lg-4 col-md-5 col-12">
                <div class="form-group">
                  <label for="district">District</label>
                  <input id="district"
                         class="form-control"
                         type="text"
                         placeholder="District"
                         formControlName="district"
                         autocomplete="off"
                         (input)="validate()"
                         required>
                  <div class="feedback text-danger">
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-md-5 col-12">
                <div class="form-group">
                  <label for="town">Town</label>
                  <input id="town"
                         class="form-control"
                         type="text"
                         placeholder="Town"
                         formControlName="town"
                         autocomplete="off"
                         (input)="validate()"
                         required>
                  <div class="feedback text-danger">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row px-4">
            <div class="responsive-form-group w-100 justify-content-center">
              <div class="col-lg-4 col-md-5 col-12">
                <div class="form-group">
                  <label for="entityName">Entity</label>
                  <select id="entityName"
                          class="form-control"
                          type="text"
                          formControlName="entityName"
                          autocomplete="off"
                          (change)="validate()"
                          required>
                    <option value="" *ngFor="let entity of entities" [value]="entity.name">{{ entity.name }}</option>
                  </select>
                  <div class="feedback text-danger">
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-md-5 col-12"></div>
            </div>
          </div>
          <hr>
          <div class="d-flex flex-row pt-2 pb-4 justify-content-end">
            <a routerLink="/admin/branches"
               class="no-decoration btn btn-secondary submit-button d-flex col-2 align-items-center justify-content-center mr-4">
              <i class="material-icons">arrow_back</i>&nbsp;Back
            </a>
            <button type="submit"
                    class="btn btn-primary submit-button d-flex col-2 justify-content-center mr-4" [disabled]="!formGroup.valid">Save
            </button>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
</ng-container>
