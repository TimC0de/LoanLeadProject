{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/auditing/auditing.component.ts","webpack:///src/app/auditing/auditing.component.html","webpack:///src/app/auditing/auditing.module.ts","webpack:///src/app/branches/branch-form/branch-form.component.ts","webpack:///src/app/branches/branch-form/branch-form.component.html","webpack:///src/app/branches/branches.component.ts","webpack:///src/app/branches/branches.component.html","webpack:///src/app/branches/branches.module.ts","webpack:///src/app/common/pagination/pagination.component.ts","webpack:///src/app/common/pagination/pagination.component.html","webpack:///src/app/common/pagination/pagination.module.ts","webpack:///src/app/core/common.ts","webpack:///src/app/core/services/branch.service.ts","webpack:///src/app/core/services/customer.service.ts","webpack:///src/app/core/services/data.service.ts","webpack:///src/app/core/services/entity.service.ts","webpack:///src/app/core/services/loan-product.service.ts","webpack:///src/app/core/services/loan.service.ts","webpack:///src/app/core/services/report.service.ts","webpack:///src/app/core/services/role.service.ts","webpack:///src/app/core/services/user.service.ts","webpack:///src/app/customers/customer-form/customer-form.component.ts","webpack:///src/app/customers/customer-form/customer-form.component.html","webpack:///src/app/customers/customers.component.ts","webpack:///src/app/customers/customers.component.html","webpack:///src/app/customers/customers.module.ts","webpack:///src/app/dashboard/dashboard.component.ts","webpack:///src/app/dashboard/dashboard.component.html","webpack:///src/app/dashboard/dashboard.module.ts","webpack:///src/app/dashboard/loan-form/loan-form.component.ts","webpack:///src/app/dashboard/loan-form/loan-form.component.html","webpack:///src/app/edit-profile/edit-profile.component.ts","webpack:///src/app/edit-profile/edit-profile.component.html","webpack:///src/app/edit-profile/edit-profile.module.ts","webpack:///src/app/entities/entities.component.ts","webpack:///src/app/entities/entities.component.html","webpack:///src/app/entities/entities.module.ts","webpack:///src/app/entities/entity-form/entity-form.component.ts","webpack:///src/app/entities/entity-form/entity-form.component.html","webpack:///src/app/home/home.component.ts","webpack:///src/app/home/home.component.html","webpack:///src/app/home/home.module.ts","webpack:///src/app/loan-products/loan-product-form/loan-product-form.component.ts","webpack:///src/app/loan-products/loan-product-form/loan-product-form.component.html","webpack:///src/app/loan-products/loan-products.component.ts","webpack:///src/app/loan-products/loan-products.component.html","webpack:///src/app/loan-products/loan-products.module.ts","webpack:///src/app/logged-users/logged-users.component.ts","webpack:///src/app/logged-users/logged-users.component.html","webpack:///src/app/logged-users/logged-users.module.ts","webpack:///src/app/model/server-resp.ts","webpack:///src/app/model/ui/components/footer.ts","webpack:///src/app/reports/reports.component.ts","webpack:///src/app/reports/reports.component.html","webpack:///src/app/reports/reports.module.ts","webpack:///src/app/ui/navigation/navigation.component.ts","webpack:///src/app/ui/navigation/navigation.component.html","webpack:///src/app/ui/navigation/navigation.module.ts","webpack:///src/app/users/user-form/user-form.component.ts","webpack:///src/app/users/user-form/user-form.component.html","webpack:///src/app/users/users.component.ts","webpack:///src/app/users/users.component.html","webpack:///src/app/users/users.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","userRoutes","path","component","pathMatch","adminRoutes","routes","AppRoutingModule","forRoot","useHash","imports","AppComponent","selector","templateUrl","styleUrls","AppModule","declarations","providers","bootstrap","AuditingComponent","reportService","activatedRoute","itemsCount","required","min","max","paramMap","subscribe","loanId","Number","parseInt","get","load","reportsCount$","getReportsByLoanIdCount","page","reports$","getReportsByLoanId","value","currentPage","input","document","getElementById","labelSpan","querySelector","classList","errors","textContent","Object","forEach","error","countChanged","reportsCount","result","Math","round","branches","userBranches","date","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","Date","AuditingModule","toSpaceBetween","s","replace","c","toLowerCase","BranchFormComponent","router","entityService","fb","branchService","entities$","getAllEntities","formGroup","group","name","entityName","type","district","town","validators","branchId","getBranch","branch","patchValue","fieldType","control","form","getBranchByField","data","notUnique","setErrors","validateFormControl","valid","controls","field","labelContent","match","contains","add","validate","createdAt","observable","save","navigate","alert","BranchesComponent","searchValue","branchesCount$","getBranchesCount","selectAll","entitiesToDelete","includes","splice","indexOf","push","anySelected","length","branches$","getBranches","branchesCount","map","deleteBranches","err","status","BranchesModule","PaginationComponent","previousPage","pageChanged","lastPage","remove","midPage","newPageNumber","emit","Array","fill","undefined","_","i","PaginationModule","log","console","clone","JSON","parse","stringify","Strings","str","test","removeWrapper","BranchService","http","dataService","pipe","itemsPerPage","params","set","post","fieldValue","ids","append","providedIn","CustomerService","customer","DataService","method","url","resp","GET","POST","PUT","put","PATCH","patch","DELETE","delete","forData","withError","body","options","EntityService","entity","LoanProductService","loanProduct","LoanService","reportForm","reportFormKey","loan","ReportService","toString","RoleService","UserService","titleService","httpClient","user$","getCurrentUser","setUser","formData","user","employeeId","next","CustomerFormComponent","customerService","documentType","phoneNumber","pattern","optionalPhoneNumber","customerId","getCustomer","controlName","documentControl","invalid","getCustomerByField","isUnique","submit","validateDocument","CustomersComponent","userService","spinner","show","customersCount$","getCustomersCount","currentUser$","customers$","getCustomers","customers","hide","customersCount","amount","customerLoans","loans","deleteCustomers","event","filter","toggle","text","target","val","CustomersModule","DashboardComponent","loanService","roleService","comment","deferStage","loadedEntitiesCount","forwardedLoans$","getForwardedLoans","receivedLoans$","getReceivedLoans","getAllRoles","roles","setInterval","loanToAction","deferred","role","find","receiveLoan","stageToForward","setValue","action","DashboardModule","LoanFormComponent","loanProductService","tenure","securityTypes","getAllLoanProducts","loanProducts","getAllCustomers","matchingCustomers","notExists","stagedAt","receiveTimestamp","typeChanged","EditProfileComponent","cd","file","password","fullName","email","getUserByField","FormData","picturePath","files","EditProfileModule","EntitiesComponent","entitiesCount$","getEntitiesCount","getEntities","entities","entitiesCount","deleteEntities","EntitiesModule","EntityFormComponent","shortName","boxNumber","plotNumber","branchesNumber","description","entityId","getEntity","getEntityByField","HomeComponent","loans$","getMainPageLoans","loansCount$","getMainPageLoansCount","loanCounts$","getMainLoansCount","loansCount","difference","dateNow","dateInstance","getTime","timeThreshold","getTrColorClass","firstDate","lastDate","milliseconds","floor","hours","days","now","HomeModule","LoanProductFormComponent","maxAmount","maxTenure","loanProductId","getLoanProduct","getLoanProductByField","LoanProductsComponent","loanProductsCount$","getLoanProductsCount","loanProducts$","getLoanProducts","loanProductsCount","deleteLoanProducts","LoanProductsModule","LoggedUsersComponent","getLoggedUsers","users","logoutUser","message","LoggedUsersModule","ServerResp","HTTPMethod","ReportsComponent","startDate","endDate","reportType","getAllUsers","getAllBranches","loadLoans","comprehensiveLoans$","getComprehensiveReportsCount","getReportsCount","getComprehensiveReports","reports","getReports","resultLink","fields","join","reportTypeUpdate","reload","ReportsModule","NavigationComponent","NavigationModule","UserFormComponent","roles$","userId","getUser","UsersComponent","usersItemsCount","newUsersItemsCount","userToApproveRoles","loadUsers","loadNewUsers","usersCount$","getUsersCount","newUsersCount$","getNewUsersCount","users$","getUsers","newUsers$","getNewUsers","usersCount","userRoles","newlyCreated","userToApprove","approveUser","ngOnInit","deleteUsers","UsersModule","environment","production","bootstrapModule","catch"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {Urls} from './config/routes/constants';\r\nimport {BranchFormComponent} from './branches/branch-form/branch-form.component';\r\nimport {BranchesComponent} from './branches/branches.component';\r\nimport {EntityFormComponent} from './entities/entity-form/entity-form.component';\r\nimport {EntitiesComponent} from './entities/entities.component';\r\nimport {UserFormComponent} from './users/user-form/user-form.component';\r\nimport {UsersComponent} from './users/users.component';\r\nimport {CustomersComponent} from './customers/customers.component';\r\nimport {CustomerFormComponent} from './customers/customer-form/customer-form.component';\r\nimport {LoanFormComponent} from './dashboard/loan-form/loan-form.component';\r\nimport {LoanProductsComponent} from './loan-products/loan-products.component';\r\nimport {LoanProductFormComponent} from './loan-products/loan-product-form/loan-product-form.component';\r\nimport {EditProfileComponent} from './edit-profile/edit-profile.component';\r\nimport {HomeComponent} from './home/home.component';\r\nimport {DashboardComponent} from './dashboard/dashboard.component';\r\nimport {ReportsComponent} from './reports/reports.component';\r\nimport {AuditingComponent} from './auditing/auditing.component';\r\nimport {LoggedUsersComponent} from './logged-users/logged-users.component';\r\n\r\nconst userRoutes: Routes = [\r\n  {path: Urls.LOAN_FORM, component: LoanFormComponent, pathMatch: 'full'},\r\n  {path: Urls.LOAN_FORM + '/:loanId', component: LoanFormComponent, pathMatch: 'full'},\r\n  {path: Urls.CUSTOMERS, component: CustomersComponent, pathMatch: 'full'},\r\n  {path: Urls.CUSTOMER_FORM, component: CustomerFormComponent, pathMatch: 'full'},\r\n  {path: Urls.CUSTOMER_FORM + '/:customerId', component: CustomerFormComponent, pathMatch: 'full'},\r\n  {path: Urls.DASHBOARD, component: DashboardComponent, pathMatch: 'full'},\r\n  {path: Urls.AUDITING + '/:loanId', component: AuditingComponent, pathMatch: 'full'},\r\n];\r\n\r\nconst adminRoutes: Routes = [\r\n  {path: Urls.ENTITIES, component: EntitiesComponent, pathMatch: 'full'},\r\n  {path: Urls.ENTITY_FORM, component: EntityFormComponent, pathMatch: 'full'},\r\n  {path: Urls.ENTITY_FORM + '/:entityId', component: EntityFormComponent, pathMatch: 'full'},\r\n  {path: Urls.BRANCHES, component: BranchesComponent, pathMatch: 'full'},\r\n  {path: Urls.BRANCH_FORM, component: BranchFormComponent, pathMatch: 'full'},\r\n  {path: Urls.BRANCH_FORM + '/:branchId', component: BranchFormComponent, pathMatch: 'full'},\r\n  {path: Urls.USERS, component: UsersComponent, pathMatch: 'full'},\r\n  {path: Urls.USER_FORM + '/:userId', component: UserFormComponent, pathMatch: 'full'},\r\n  {path: Urls.LOAN_PRODUCTS, component: LoanProductsComponent, pathMatch: 'full'},\r\n  {path: Urls.LOAN_PRODUCT_FORM, component: LoanProductFormComponent, pathMatch: 'full'},\r\n  {path: Urls.LOAN_PRODUCT_FORM + '/:loanProductId', component: LoanProductFormComponent, pathMatch: 'full'},\r\n  {path: Urls.PROFILE_EDIT, component: EditProfileComponent, pathMatch: 'full'},\r\n  {path: Urls.HOME, component: HomeComponent, pathMatch: 'full'},\r\n  {path: Urls.REPORTS, component: ReportsComponent, pathMatch: 'full'},\r\n  {path: Urls.LOGGED_USERS, component: LoggedUsersComponent, pathMatch: 'full'}\r\n];\r\n\r\nconst routes: Routes = [\r\n  {path: '', component: HomeComponent, pathMatch: 'full'},\r\n  ...adminRoutes,\r\n  ...userRoutes\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, {useHash: true})],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n}\r\n","import {Component} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'loanlead-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n}\r\n","<router-outlet></router-outlet>\r\n","import {BrowserModule} from '@angular/platform-browser';\r\nimport {NgModule} from '@angular/core';\r\nimport {AppRoutingModule} from './app-routing.module';\r\nimport {AppComponent} from './app.component';\r\nimport {HttpClientModule} from '@angular/common/http';\r\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\r\nimport {ReactiveFormsModule} from '@angular/forms';\r\nimport {HomeModule} from './home/home.module';\r\nimport {EntitiesModule} from './entities/entities.module';\r\nimport {BranchesModule} from './branches/branches.module';\r\nimport {LoanProductsModule} from './loan-products/loan-products.module';\r\nimport {CustomersModule} from './customers/customers.module';\r\nimport {UsersModule} from './users/users.module';\r\nimport {LoggedUsersModule} from './logged-users/logged-users.module';\r\nimport {ReportsModule} from './reports/reports.module';\r\nimport {EditProfileModule} from './edit-profile/edit-profile.module';\r\nimport {DashboardModule} from './dashboard/dashboard.module';\r\nimport {AuditingModule} from './auditing/auditing.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    BrowserAnimationsModule,\r\n    HomeModule,\r\n    AuditingModule,\r\n    DashboardModule,\r\n    EntitiesModule,\r\n    BranchesModule,\r\n    LoanProductsModule,\r\n    CustomersModule,\r\n    UsersModule,\r\n    ReportsModule,\r\n    LoggedUsersModule,\r\n    EditProfileModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  providers: [\r\n    HttpClientModule\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n}\r\n","import {Component, OnInit} from '@angular/core';\nimport {Report} from \"../model/report\";\nimport {Observable} from \"rxjs\";\nimport {ReportService} from \"../core/services/report.service\";\nimport {FormControl, Validators} from \"@angular/forms\";\nimport {ActivatedRoute, ParamMap} from \"@angular/router\";\n\n@Component({\n  selector: 'loanlead-auditing',\n  templateUrl: './auditing.component.html',\n  styleUrls: ['./auditing.component.scss']\n})\nexport class AuditingComponent implements OnInit {\n  loanId: number;\n  reportsCount$: Observable<number>;\n  reports$: Observable<Report[]>;\n  userBranches: string[];\n  itemsCount: FormControl = new FormControl(\n    5,\n    [\n      Validators.required,\n      Validators.min(5),\n      Validators.max(20),\n    ]);\n  countChanged: boolean;\n  currentPage: number;\n\n  constructor(\n    private reportService: ReportService,\n    private activatedRoute: ActivatedRoute\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.activatedRoute.paramMap.subscribe((paramMap: ParamMap) => {\n      this.loanId = Number.parseInt(paramMap.get('loanId'), 10);\n\n      this.load(1);\n      this.reportsCount$ = this.reportService.getReportsByLoanIdCount(this.loanId);\n    });\n  }\n\n  load(page: number) {\n    this.reports$ = this.reportService.getReportsByLoanId(this.loanId, page - 1, this.itemsCount.value);\n    this.currentPage = page;\n  }\n\n  validate() {\n    const input = document.getElementById('itemsCount');\n    const labelSpan = document.querySelector('#itemsCount + .feedback');\n\n    input.classList[this.itemsCount.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (this.itemsCount.errors) {\n      Object.keys(this.itemsCount.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'min':\n            textContent = 'Please, enter higher number';\n            break;\n          case 'max':\n            textContent = 'Please, enter lower number';\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n    labelSpan.textContent = textContent;\n    this.countChanged = true;\n  }\n\n  filter() {\n    if (!this.itemsCount.errors && this.countChanged) {\n      const page = 1;\n      this.load(page);\n      this.countChanged = false;\n    }\n  }\n\n  pagesCount(reportsCount: number) {\n    const result = reportsCount / this.itemsCount.value;\n    return Math.round(result) < result ? Math.round(result) + 1 : Math.round(result);\n  }\n\n  setUserBranches(branches: string[]) {\n    this.userBranches = branches;\n  }\n\n  reportLink() {\n    return `/api/reports/report?loanId=${this.loanId}&page=${this.currentPage ? this.currentPage - 1 : 0}&itemsPerPage=${this.itemsCount.value}`;\n  }\n\n  format(date: Date) {\n    return ((date.getDate() < 10) ? '0' + date.getDate() : date.getDate()) +\n      \"/\" + ((date.getMonth() < 10) ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)) +\n      \"/\" + date.getFullYear() +\n      \" \" + ((date.getHours() < 10) ? '0' + date.getHours() : date.getHours()) +\n      \":\" + ((date.getMinutes() < 10) ? '0' + date.getMinutes() : date.getMinutes()) +\n      \":\" + ((date.getSeconds() < 10) ? '0' + date.getSeconds() : date.getSeconds());\n  }\n\n  dateInstance(date: string) {\n    return new Date(date);\n  }\n\n}\n","<loanlead-navigation></loanlead-navigation>\n<ng-container *ngIf=\"reports$ | async as reports\">\n  <div class=\"border border-secondary m-3 p-3 bg-white rounded animated fadeIn\">\n    <div class=\"py-2 page-body-heading justify-content-between\">\n      <label class=\"rounded col-lg-2 col-md-3 col-12 py-2 page-heading d-flex align-items-center justify-content-center\"><i class=\"material-icons\">group</i>&nbsp;Auditing</label>\n\n      <div class=\"col-md-3 col-12\">\n        <div class=\"form-group\">\n          <label for=\"itemsCount\">Items Count</label>\n          <input id=\"itemsCount\"\n                 type=\"number\"\n                 placeholder=\"Search\"\n                 data-placeholder=\"Search\"\n                 class=\"form-control\"\n                 [formControl]=\"itemsCount\"\n                 (input)=\"validate()\"\n                 (blur)=\"filter()\"\n                 required>\n          <div class=\"feedback text-danger\"></div>\n        </div>\n      </div>\n    </div>\n    <hr>\n    <div class=\"py-2\" style=\"overflow-x: auto;\">\n      <table id=\"reportsTable\"\n             class=\"table table-striped table-hover table-bordered table-condensed\"\n             style=\"min-width: 1350px;\">\n        <thead>\n        <tr>\n          <th>ID</th>\n          <th>Customer</th>\n          <th>Stage</th>\n          <th>Status</th>\n          <th>Actioned At</th>\n          <th>User</th>\n          <th>Branches</th>\n          <th>Comment</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor=\"let report of reports\">\n          <td>{{ report.id }}</td>\n          <td>{{ report.customer }}</td>\n          <td>{{ report.stage }}</td>\n          <td>{{ report.status }}</td>\n          <td>{{ format(dateInstance(report.actionedAt)) }}</td>\n          <td>{{ report.user }}</td>\n          <td><a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#branchesTableModal\" (click)=\"setUserBranches(report.branches)\">Branches</a></td>\n          <td>{{ report.comment }}</td>\n        </tr>\n        </tbody>\n      </table>\n      <div class=\"empty-list\" *ngIf=\"!reports.length\">\n        No comprehensive loans was found.\n      </div>\n    </div>\n    <div class=\"py-2\">\n      <a [href]=\"reportLink()\" class=\"btn btn-primary\">Export excel</a>\n    </div>\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"reportsCount$ | async as reportsCount\">\n  <app-pagination *ngIf=\"reportsCount > itemsCount.value\"\n                  [lastPage]=\"pagesCount(reportsCount)\"\n                  (pageChanged)=\"load($event)\">\n  </app-pagination>\n</ng-container>\n\n<ng-container *ngIf=\"userBranches\">\n  <div class=\"modal fade bd-example-modal-lg\" tabindex=\"-1\" role=\"dialog\" id=\"branchesTableModal\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\">Roles</h4>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n        </div>\n        <div class=\"modal-body\" style=\"overflow-x: auto;\">\n          <ul *ngIf=\"userBranches.length\">\n            <li *ngFor=\"let branch of userBranches\">{{ branch }}</li>\n          </ul>\n          <div class=\"empty-list\" *ngIf=\"!userBranches.length\">\n            No loans was found.\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ReactiveFormsModule} from \"@angular/forms\";\nimport {NavigationModule} from \"../ui/navigation/navigation.module\";\nimport {PaginationModule} from \"../common/pagination/pagination.module\";\nimport {RouterModule} from \"@angular/router\";\nimport {AuditingComponent} from \"./auditing.component\";\n\n\n\n@NgModule({\n  declarations: [AuditingComponent],\n  imports: [\n    ReactiveFormsModule,\n    NavigationModule,\n    CommonModule,\n    PaginationModule,\n    RouterModule\n  ]\n})\nexport class AuditingModule { }\n","import {Component, Input, OnInit} from '@angular/core';\nimport {Observable} from \"rxjs\";\nimport {Entity} from \"../../model/entity\";\nimport {Branch} from \"../../model/branch\";\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {EntityService} from \"../../core/services/entity.service\";\nimport {BranchService} from \"../../core/services/branch.service\";\nimport {ActivatedRoute, ParamMap, Router} from \"@angular/router\";\nimport {LoanProduct} from \"../../model/loan-product\";\n\nconst toSpaceBetween = (s: string): string => {\n  return s.replace(\n    /[A-Z]/g,\n    (c: string) => ` ${c.toLowerCase()}`\n  );\n};\n\n@Component({\n  selector: 'loanlead-branch-form',\n  templateUrl: './branch-form.component.html',\n  styleUrls: ['./branch-form.component.scss']\n})\nexport class BranchFormComponent implements OnInit {\n  entities$: Observable<Entity[]>;\n\n  branchId: number;\n  branch: Branch;\n  formGroup: FormGroup;\n\n  constructor(\n    private router: Router,\n    private entityService: EntityService,\n    private fb: FormBuilder,\n    private branchService: BranchService,\n    private activatedRoute: ActivatedRoute\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.entities$ = this.entityService.getAllEntities();\n    this.formGroup = this.fb.group({\n      name      : [''],\n      entityName: [''],\n      type      : [''],\n      district  : [''],\n      town      : [''],\n    }, {\n      validators: Validators.required\n    });\n\n    this.activatedRoute.paramMap\n      .subscribe((paramMap: ParamMap) => {\n        this.branchId = Number.parseInt(paramMap.get('branchId'));\n\n        if (this.branchId) {\n          this.branchService.getBranch(this.branchId)\n            .subscribe((branch: Branch) => {\n              if (branch != null) {\n                this.branch = branch;\n                this.formGroup.patchValue({\n                  name      : branch.name,\n                  entityName: branch.entityName,\n                  type      : branch.type,\n                  district  : branch.district,\n                  town      : branch.town,\n                });\n              }\n            });\n        }\n      });\n  }\n\n  isUnique(fieldType: string): boolean {\n    let result = true;\n    const control = this.formGroup.get(fieldType);\n    const form = document.querySelector('form');\n\n    if (!control.errors && control.value) {\n      this.branchService.getBranchByField(fieldType, control.value)\n        .subscribe((data: Branch) => {\n          if (data != null && (!this.branchId || data.id != this.branch.id)) {\n            if (control.errors) {\n              control.errors.notUnique = {notUnique: true};\n            } else {\n              control.setErrors({notUnique: true});\n            }\n          } else {\n            if (control.errors) {\n              delete control.errors.notUnique;\n            }\n          }\n\n          result = this.validateFormControl(fieldType);\n        });\n    }\n\n    return result;\n  }\n\n  validate(): boolean {\n    let valid = true;\n    const controls = this.formGroup.controls;\n\n    Object.keys(controls).forEach((field) => {\n      valid = this.validateFormControl(field);\n    });\n\n    return valid;\n  }\n\n  validateFormControl(field: string) {\n    let result = true;\n    const control = this.formGroup.get(field);\n    const input = document.getElementById(field);\n    const labelSpan = document\n      .querySelector(`#${field} + .feedback`);\n\n    input.classList[control.errors ? 'add' : 'remove']('invalid');\n    let labelContent = '';\n\n    if (control.errors) {\n      Object.keys(control.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            labelContent = 'Please, enter this field';\n\n            break;\n          case 'email':\n            labelContent = 'Please, enter a valid email';\n\n            break;\n          case 'minlength':\n            labelContent = 'Please, enter more symbols';\n\n            break;\n          case 'maxlength':\n            labelContent = 'Please, enter less symbols';\n\n            break;\n          case 'notUnique':\n            labelContent = `This ${toSpaceBetween(field)} already exists`;\n\n            break;\n          case 'pattern':\n            if (!control.value.match(/[0-9]+/)) {\n              labelContent = 'Digits required';\n            } else if (!control.value.match(/[A-Z]+/)) {\n              labelContent = 'Uppercase characters required';\n            } else {\n              labelContent = 'Lowercase characters required';\n            }\n\n            break;\n          default:\n            labelContent = '';\n\n            break;\n        }\n      });\n      result = false;\n    }\n\n    labelSpan.textContent = labelContent;\n    return result;\n  }\n\n  submit() {\n    const form = document.querySelector('form');\n\n    if (!form.classList.contains('validated')) {\n      form.classList.add('validated');\n\n      this.branchService.getBranchByField('name', this.formGroup.get('name').value);\n    }\n\n    if (this.validate()) {\n      const branch: Branch = {\n        name: this.formGroup.get('name').value,\n        entityName: this.formGroup.get('entityName').value,\n        type: this.formGroup.get('type').value,\n        district: this.formGroup.get('district').value,\n        town: this.formGroup.get('town').value,\n      };\n\n      if (this.branch) {\n        branch.id = this.branch.id;\n        branch.createdAt = this.branch.createdAt;\n      }\n\n      const observable: Observable<Branch> = this.branchService.save(branch);\n      observable\n        .subscribe((data: Branch) => {\n          this.router.navigate(['/branches']);\n        }, () => {\n          alert(\"Error while saving branch\");\n        });\n    }\n  }\n\n}\n","<loanlead-navigation></loanlead-navigation>\n<ng-container *ngIf=\"entities$ | async as entities\">\n  <div class=\"border border-secondary m-3 p-3 bg-white rounded\" style=\"position: relative; z-index: 2;\">\n    <div class=\"py-2\">\n      <label\n        class=\"rounded col-lg-2 col-md-3 col-sm-6 col py-2 page-heading d-flex align-items-center justify-content-center\">\n        <i class=\"material-icons\">person</i>&nbsp;Branch Form</label>\n    </div>\n    <hr>\n    <div class=\"py-2\">\n      <form [formGroup]=\"formGroup\" action=\"/branches\" method=\"POST\" class=\"form-horizontal form-with-image\" (ngSubmit)=\"submit()\">\n        <fieldset class=\"border border-yellow rounded\">\n          <legend class=\"d-block w-auto ml-3 text-dark-blue\">Form</legend>\n\n          <div class=\"row px-4 justify-content-center\">\n            <div class=\"col-lg-5 col-md-6 col-12 d-flex justify-content-center flex-column\">\n              <div class=\"form-group pl-3\">\n                <label for=\"name\">Name</label>\n                <input id=\"name\"\n                       class=\"form-control\"\n                       type=\"text\"\n                       placeholder=\"Name\"\n                       formControlName=\"name\"\n                       autocomplete=\"off\"\n                       (input)=\"validate()\"\n                       (blur)=\"isUnique('name')\"\n                       required>\n                <div class=\"feedback text-danger\">\n\n                </div>\n              </div>\n              <div class=\"form-group pl-3\">\n                <label for=\"type\">Type</label>\n                <input id=\"type\"\n                       class=\"form-control\"\n                       type=\"text\"\n                       placeholder=\"Type\"\n                       formControlName=\"type\"\n                       autocomplete=\"off\"\n                       (input)=\"validate()\"\n                       required>\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row px-4\">\n            <div class=\"responsive-form-group w-100 justify-content-center\">\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"district\">District</label>\n                  <input id=\"district\"\n                         class=\"form-control\"\n                         type=\"text\"\n                         placeholder=\"District\"\n                         formControlName=\"district\"\n                         autocomplete=\"off\"\n                         (input)=\"validate()\"\n                         required>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"town\">Town</label>\n                  <input id=\"town\"\n                         class=\"form-control\"\n                         type=\"text\"\n                         placeholder=\"Town\"\n                         formControlName=\"town\"\n                         autocomplete=\"off\"\n                         (input)=\"validate()\"\n                         required>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row px-4\">\n            <div class=\"responsive-form-group w-100 justify-content-center\">\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"entityName\">Entity</label>\n                  <select id=\"entityName\"\n                          class=\"form-control\"\n                          type=\"text\"\n                          formControlName=\"entityName\"\n                          autocomplete=\"off\"\n                          (change)=\"validate()\"\n                          required>\n                    <option value=\"\" *ngFor=\"let entity of entities\" [value]=\"entity.name\">{{ entity.name }}</option>\n                  </select>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-lg-4 col-md-5 col-12\"></div>\n            </div>\n          </div>\n          <hr>\n          <div class=\"d-flex flex-row pt-2 pb-4 justify-content-end\">\n            <a routerLink=\"/branches\"\n               class=\"no-decoration btn btn-secondary submit-button d-flex col-2 align-items-center justify-content-center mr-4\">\n              <i class=\"material-icons\">arrow_back</i>&nbsp;Back\n            </a>\n            <button type=\"submit\"\n                    class=\"btn btn-primary submit-button d-flex col-2 justify-content-center mr-4\" [disabled]=\"!formGroup.valid\">Save\n            </button>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</ng-container>\n","import {AfterContentInit, Component, OnChanges, OnInit} from '@angular/core';\nimport {Branch} from \"../model/branch\";\nimport {Observable} from \"rxjs\";\nimport {BranchService} from \"../core/services/branch.service\";\nimport {FormControl, Validators} from \"@angular/forms\";\nimport {Router} from \"@angular/router\";\nimport * as $ from 'jquery';\nimport {ServerResp} from \"../model/server-resp\";\n\n@Component({\n  selector: 'loanlead-branches',\n  templateUrl: './branches.component.html',\n  styleUrls: ['./branches.component.scss']\n})\nexport class BranchesComponent implements OnInit {\n  searchValue: FormControl = new FormControl('');\n  itemsCount: FormControl = new FormControl(\n    5,\n    [\n      Validators.required,\n      Validators.min(5),\n      Validators.max(20),\n    ]);\n\n  branchesCount$: Observable<number>;\n  branches$: Observable<Branch[]>;\n  countChanged: boolean;\n  selectAll: boolean;\n  anySelected: boolean;\n  entitiesToDelete: number[];\n\n  constructor(private branchService: BranchService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.load(1);\n    this.branchesCount$ = this.branchService.getBranchesCount();\n    this.selectAll = false;\n    this.entitiesToDelete = [];\n  }\n\n  check(id?: number): void {\n    if (id) {\n      if (this.entitiesToDelete.includes(id)) {\n        this.entitiesToDelete.splice(this.entitiesToDelete.indexOf(id), 1);\n      } else {\n        this.entitiesToDelete.push(id);\n      }\n    }\n    this.anySelected = this.entitiesToDelete.length > 0;\n  }\n\n  load(page: number) {\n    this.branches$ = this.branchService.getBranches(page - 1, this.itemsCount.value);\n  }\n\n  validate() {\n    const input = document.getElementById('itemsCount');\n    const labelSpan = document.querySelector('#itemsCount + .feedback');\n\n    input.classList[this.itemsCount.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (this.itemsCount.errors) {\n      Object.keys(this.itemsCount.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'min':\n            textContent = 'Please, enter higher number';\n            break;\n          case 'max':\n            textContent = 'Please, enter lower number';\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n    labelSpan.textContent = textContent;\n    this.countChanged = true;\n  }\n\n  filter() {\n    if (!this.itemsCount.errors && this.countChanged) {\n      const page = 1;\n      this.load(page);\n      this.countChanged = false;\n    }\n  }\n\n  pagesCount(branchesCount: number) {\n    let result = branchesCount / this.itemsCount.value;\n    return Math.round(result) < result ? Math.round(result) + 1 : Math.round(result);\n  }\n\n  selectAllTrigger(branches: Branch[]) {\n    this.selectAll = !this.selectAll;\n    if (this.selectAll) {\n      this.entitiesToDelete = branches.map(branch => branch.id);\n    } else {\n      this.entitiesToDelete = [];\n    }\n    this.anySelected = this.selectAll;\n  }\n\n  format(date: Date) {\n    return ((date.getDate() < 10) ? '0' + date.getDate() : date.getDate()) +\n      \"/\" + ((date.getMonth() < 10) ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)) +\n      \"/\" + date.getFullYear() +\n      \" \" + ((date.getHours() < 10) ? '0' + date.getHours() : date.getHours()) +\n      \":\" + ((date.getMinutes() < 10) ? '0' + date.getMinutes() : date.getMinutes()) +\n      \":\" + ((date.getSeconds() < 10) ? '0' + date.getSeconds() : date.getSeconds());\n  }\n\n  dateInstance(date: string) {\n    return new Date(date);\n  }\n\n  delete() {\n    this.branchService.deleteBranches(this.entitiesToDelete).subscribe((data: ServerResp<any>) => {\n      if (data.err) {\n        alert(`Request error with code ${data.err.status}`);\n      } else {\n        this.load(1);\n        this.branchesCount$ = this.branchService.getBranchesCount();\n      }\n    })\n  }\n}\n","<loanlead-navigation></loanlead-navigation>\n<ng-container *ngIf=\"branches$ | async as branches\">\n  <div *ngIf=\"branches.length\" class=\"border border-secondary m-3 p-3 bg-white rounded animated fadeIn\">\n    <div class=\"py-2 page-body-heading justify-content-between\">\n      <label class=\"rounded col-lg-2 col-md-3 col-12 py-2 page-heading d-flex align-items-center justify-content-center\"><i class=\"material-icons\">group</i>&nbsp;Branches</label>\n\n      <div class=\"col-md-3 col-12\">\n        <div class=\"form-group\">\n          <label for=\"itemsCount\">Items Count</label>\n          <input id=\"itemsCount\"\n                 type=\"number\"\n                 placeholder=\"Search\"\n                 data-placeholder=\"Search\"\n                 class=\"form-control\"\n                 [formControl]=\"itemsCount\"\n                 (input)=\"validate()\"\n                 (blur)=\"filter()\"\n                 required>\n          <div class=\"feedback text-danger\"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"py-2 d-flex justify-content-end\">\n      <a routerLink=\"../branch_form\" class=\"btn btn-primary d-flex align-items-center col-lg-2 col-md-3 col-sm-4 col-12 justify-content-center py-2\"><i class=\"material-icons\">add</i>&nbsp;Create new branch</a>\n    </div>\n    <div class=\"py-2\" style=\"overflow-x: auto;\">\n      <table id=\"contentTable\" class=\"table table-striped table-hover table-bordered table-condensed\" style=\"min-width: 1595px;\">\n        <thead>\n        <tr>\n          <th>ID</th>\n          <th>Name</th>\n          <th>Entity name</th>\n          <th>Type</th>\n          <th>District</th>\n          <th>Town</th>\n          <th>Created at</th>\n          <th>Edit</th>\n          <th><input type=\"checkbox\" id=\"select-all\" (click)=\"selectAllTrigger(branches)\"/></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr [id]=\"[branch.id]\" *ngFor=\"let branch of branches\">\n          <td>{{ branch.id }}</td>\n          <td>{{ branch.name }}</td>\n          <td>{{ branch.entityName }}</td>\n          <td>{{ branch.type }}</td>\n          <td>{{ branch.district }}</td>\n          <td>{{ branch.town }}</td>\n          <td>{{ format(dateInstance(branch.createdAt)) }}</td>\n          <td><a [routerLink]=\"['/branch_form/' + branch.id]\">Edit</a></td>\n          <td><input type=\"checkbox\" [checked]=\"selectAll\" (click)=\"check(branch.id)\"></td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"py-2\">\n      <button type=\"button\" id=\"deleteButton\" class=\"btn btn-primary\" [disabled]=\"!anySelected\" (click)=\"delete()\">Delete branches</button>\n    </div>\n  </div>\n  <div class=\"empty-list\" *ngIf=\"!branches.length\">\n    No branches was found.\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"branchesCount$ | async as branchesCount\">\n  <app-pagination *ngIf=\"branchesCount > itemsCount.value\"\n                  [lastPage]=\"pagesCount(branchesCount)\"\n                  (pageChanged)=\"load($event)\">\n  </app-pagination>\n</ng-container>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from \"@angular/common\";\nimport {ReactiveFormsModule} from \"@angular/forms\";\nimport {BranchesComponent} from \"./branches.component\";\nimport {NavigationModule} from \"../ui/navigation/navigation.module\";\nimport {PaginationModule} from \"../common/pagination/pagination.module\";\nimport {RouterModule} from \"@angular/router\";\nimport {BranchFormComponent} from \"./branch-form/branch-form.component\";\n\n@NgModule({\n  declarations: [BranchesComponent, BranchFormComponent],\n  imports: [\n    ReactiveFormsModule,\n    NavigationModule,\n    CommonModule,\n    PaginationModule,\n    RouterModule\n  ],\n})\nexport class BranchesModule {\n}\n","import {Component, DoCheck, EventEmitter, Input, Output} from '@angular/core';\n\n@Component({\n    selector: 'app-pagination',\n    templateUrl: './pagination.component.html',\n    styleUrls: ['./pagination.component.scss']\n})\nexport class PaginationComponent implements DoCheck {\n    @Input() lastPage: number;\n    @Output() pageChanged: EventEmitter<number>;\n\n    currentPage = 1;\n    previousPage = 1;\n\n    constructor() {\n        this.pageChanged = new EventEmitter();\n    }\n\n    ngDoCheck() {\n        if (this.currentPage !== this.previousPage) {\n            if (this.lastPage > 5) {\n                document.querySelector('.active').classList.remove('active');\n\n                if (this.currentPage < 3 || this.currentPage > this.lastPage - 2) {\n                    document.getElementById(`page_${this.currentPage}`).classList.add('active');\n                } else {\n                    const midPage = document.querySelector('.mid-page');\n\n                    if (!midPage.classList.contains('active')) {\n                        midPage.classList.add('active');\n                    }\n                }\n            } else {\n                document.querySelector('.pagination > .active').classList.remove('active');\n                document.getElementById(`page_${this.currentPage}`).classList.add('active');\n            }\n\n            this.previousPage = this.currentPage;\n        }\n    }\n\n    changePage(newPageNumber: number) {\n        this.currentPage = newPageNumber;\n        this.pageChanged.emit(this.currentPage);\n    }\n\n    getDivPage() {\n        if (this.currentPage < 3) {\n            return 3;\n        } else if (this.currentPage > this.lastPage - 3) {\n            return this.lastPage - 2;\n        } else {\n            return this.currentPage;\n        }\n    }\n\n    defaultPages() {\n        return (new Array(this.lastPage)).fill(undefined).map((_, i) => i + 1);\n    }\n}\n","<div *ngIf=\"lastPage > 5\" class=\"pagination-container\">\n    <div class=\"pagination\">\n        <div id=\"page_1\" class=\"active\" (click)=\"changePage(1)\">\n            <span>1</span>\n        </div>\n        <div *ngIf=\"currentPage > 3\">\n            <span>...</span>\n        </div>\n        <div [id]=\"'page_' + (getDivPage() - 1)\" (click)=\"changePage(getDivPage() - 1)\">\n            <span>{{ getDivPage() - 1 }}</span>\n        </div>\n        <div [id]=\"'page_' + getDivPage()\" class=\"mid-page\" (click)=\"changePage(getDivPage())\">\n            <span>{{ getDivPage() }}</span>\n        </div>\n        <div [id]=\"'page_' + (getDivPage() + 1)\" (click)=\"changePage(getDivPage() + 1)\">\n            <span>{{ getDivPage() + 1 }}</span>\n        </div>\n        <div *ngIf=\"currentPage < lastPage - 2\">\n            <span>...</span>\n        </div>\n        <div [id]=\"'page_' + lastPage\" (click)=\"changePage(lastPage)\">\n            <span>{{ lastPage }}</span>\n        </div>\n    </div>\n</div>\n<div *ngIf=\"lastPage <= 5\" class=\"pagination-container\">\n    <div class=\"pagination\">\n        <div *ngFor=\"let i of defaultPages()\"\n             [class.active]=\"i === 1\"\n             [id]=\"'page_' + i\"\n             (click)=\"changePage(i)\">\n            <span>{{ i }}</span>\n        </div>\n    </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {PaginationComponent} from \"./pagination.component\";\n\n\n\n@NgModule({\n  declarations: [PaginationComponent],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    PaginationComponent,\n  ]\n})\nexport class PaginationModule { }\n","export function log(...message: any): void {\r\n  console.log(...message);\r\n}\r\n\r\nexport function clone(data: any) {\r\n  return JSON.parse(JSON.stringify(data));\r\n}\r\n\r\nexport class Strings {\r\n  public static isBlank(str): boolean {\r\n    return (!str || /^\\s*$/.test(str));\r\n  }\r\n}\r\n\r\nexport function removeWrapper(data: any[]): any[] {\r\n  return data.map((e) => e[Object.keys(e)[0]]);\r\n}\r\n","import { Injectable } from '@angular/core';\nimport {HttpClient, HttpParams} from \"@angular/common/http\";\nimport {Observable} from \"rxjs\";\nimport {Branch} from \"../../model/branch\";\nimport {map} from \"rxjs/operators\";\nimport {DataService} from \"./data.service\";\nimport {ServerResp} from \"../../model/server-resp\";\nimport {Entity} from \"../../model/entity\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BranchService {\n\n  constructor(\n    private http: HttpClient,\n    private dataService: DataService\n  ) { }\n\n  getBranch(id: number) {\n    return this.dataService.get<Branch>(`/api/branches/${id}`).pipe(map((data) => data.data));\n  }\n\n  getBranches(page, itemsPerPage): Observable<Branch[]> {\n    let params = new HttpParams()\n      .set('page', page)\n      .set('itemsPerPage', itemsPerPage);\n    return this.dataService.get<Branch[]>(`/api/branches`, params).pipe(map((data) => data.data))\n  }\n\n  getBranchesCount(): Observable<number> {\n    return this.dataService.get<number>(`/api/branches/count`).pipe(map((data) => data.data));\n  }\n\n  getAllBranches(): Observable<Branch[]> {\n    return this.dataService.get<Branch[]>(`/api/branches/all`).pipe(map((data) => data.data));\n  }\n\n  save(branch: Branch): Observable<Branch> {\n    return this.dataService.post<Branch>(`/api/branches`, branch).pipe(map((data) => data.data));\n  }\n\n  public getBranchByField(fieldType: string, fieldValue: any): Observable<Branch> {\n    let params = new HttpParams()\n      .set('fieldName', fieldType)\n      .set('value', fieldValue);\n\n    return this.dataService.get<Branch>(`/api/branches/unique`, params).pipe(map((data) => data.data));\n  }\n\n  public deleteBranches(ids: number[]): Observable<ServerResp<any>> {\n    let params = new HttpParams();\n    ids.forEach(id => params = params.append('ids', `${id}`));\n    return this.dataService.post('/api/branches/delete', params);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {HttpClient, HttpParams} from \"@angular/common/http\";\nimport {Observable} from \"rxjs\";\nimport {Customer} from \"../../model/customer\";\nimport {map} from \"rxjs/operators\";\nimport {DataService} from \"./data.service\";\nimport {ServerResp} from \"../../model/server-resp\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CustomerService {\n\n  constructor(\n    private http: HttpClient,\n    private dataService: DataService\n  ) { }\n\n  getCustomer(id: number) {\n    return this.dataService.get<Customer>(`/api/customers/${id}`).pipe(map((data) => data.data));\n  }\n\n  getAllCustomers(): Observable<Customer[]> {\n    return this.dataService.get<Customer[]>(`/api/customers/all`).pipe(map((data) => data.data))\n  }\n\n  getCustomers(page, itemsPerPage): Observable<Customer[]> {\n    let params = new HttpParams()\n      .set('page', page)\n      .set('itemsPerPage', itemsPerPage);\n    return this.dataService.get<Customer[]>(`/api/customers`, params).pipe(map((data) => data.data))\n  }\n\n  getCustomersCount(): Observable<number> {\n    return this.dataService.get<number>(`/api/customers/count`).pipe(map((data) => data.data));\n  }\n\n  save(customer: Customer): Observable<Customer> {\n    return this.dataService.post<Customer>('/api/customers', customer).pipe(map((data) => data.data));\n  }\n\n  public getCustomerByField(fieldType: string, fieldValue: any): Observable<Customer> {\n    let params = new HttpParams()\n      .set(\"fieldName\", fieldType)\n      .set('value', fieldValue);\n\n    return this.dataService.get<Customer>(`/api/customers/unique`, params).pipe(map((data) => data.data));\n  }\n\n  public deleteCustomers(ids: number[]): Observable<ServerResp<any>> {\n    let params = new HttpParams();\n    ids.forEach(id => params = params.append('ids', `${id}`));\n    return this.dataService.post('/api/customers/delete', params);\n  }\n}\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpErrorResponse, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {Observable, of} from \"rxjs\";\r\nimport {catchError, map} from \"rxjs/operators\";\r\nimport {ServerResp} from \"../../model/server-resp\";\r\nimport {HTTPMethod} from \"../../model/ui/components/footer\";\r\nimport {User} from \"../../model/user\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DataService {\r\n\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  getCurrentUser(): Observable<User> {\r\n    return this.get<User>(`/api/users/current_user`).pipe(map((data) => {\r\n      return data.data;\r\n    }));\r\n  }\r\n\r\n  performAction<T>(method: HTTPMethod, url: string, data: any): Observable<T> {\r\n    let resp: Observable<ServerResp<T>>;\r\n    switch (method) {\r\n      case HTTPMethod.GET:\r\n        resp = this.get<T>(url);\r\n        break;\r\n      case HTTPMethod.POST:\r\n        resp = this.post<T>(url, data);\r\n        break;\r\n      case HTTPMethod.PUT:\r\n        resp = this.put<T>(url, data);\r\n        break;\r\n      case HTTPMethod.PATCH:\r\n        resp = this.patch<T>(url, data);\r\n        break;\r\n      case HTTPMethod.DELETE:\r\n        resp = this.delete<T>(url);\r\n      default:\r\n        throw `Http method '${method}' not supported`;\r\n    }\r\n    return resp.pipe(map((data) => {\r\n      return data.data;\r\n    }));\r\n  }\r\n\r\n  get<T>(\r\n    url: string,\r\n    params?: HttpParams | {\r\n      [param: string]: string | string[];\r\n    }\r\n  ): Observable<ServerResp<T>> {\r\n    return this.http.get<T>(url, { params }).pipe(\r\n      map((data: T) => ServerResp.forData<T>(data)),\r\n      catchError((err: HttpErrorResponse) => of<ServerResp<T>>(ServerResp.withError<T>(err))),\r\n    );\r\n  }\r\n\r\n  post<T>(url: string, body: any, options?: {\r\n    headers?: HttpHeaders | {\r\n      [header: string]: string | string[];\r\n    };\r\n    observe?: 'body';\r\n    params?: HttpParams | {\r\n      [param: string]: string | string[];\r\n    };\r\n    reportProgress?: boolean;\r\n    responseType?: 'json';\r\n    withCredentials?: boolean;\r\n  }): Observable<ServerResp<T>> {\r\n    return this.http.post<T>(url, body, options).pipe(\r\n      map((data: T) => ServerResp.forData<T>(data)),\r\n      catchError((err: HttpErrorResponse) => of<ServerResp<T>>(ServerResp.withError<T>(err)))\r\n    );\r\n  }\r\n\r\n  put<T>(url: string, body: any): Observable<ServerResp<T>> {\r\n    return this.http.put<T>(url, body).pipe(\r\n      map((data: T) => ServerResp.forData<T>(data)),\r\n      catchError((err: HttpErrorResponse) => of<ServerResp<T>>(ServerResp.withError<T>(err)))\r\n    );\r\n  }\r\n\r\n  patch<T>(url: string, body: any): Observable<ServerResp<T>> {\r\n    return this.http.patch<T>(url, body).pipe(\r\n      map((data: T) => ServerResp.forData<T>(data)),\r\n      catchError((err: HttpErrorResponse) => of<ServerResp<T>>(ServerResp.withError<T>(err)))\r\n    );\r\n  }\r\n\r\n  delete<T>(url: string): Observable<ServerResp<T>> {\r\n    return this.http.delete<T>(url).pipe(\r\n      map((data: T) => ServerResp.forData<T>(data)),\r\n      catchError((err: HttpErrorResponse) => of<ServerResp<T>>(ServerResp.withError<T>(err))),\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport {HttpClient, HttpParams} from \"@angular/common/http\";\nimport {Observable} from \"rxjs\";\nimport {Entity} from \"../../model/entity\";\nimport {map} from \"rxjs/operators\";\nimport {DataService} from \"./data.service\";\nimport {ServerResp} from \"../../model/server-resp\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EntityService {\n\n  constructor(\n    private http: HttpClient,\n    private dataService: DataService\n  ) { }\n\n  getEntity(id: number) {\n    return this.dataService.get<Entity>(`/api/entities/${id}`).pipe(map((data) => data.data));\n  }\n\n  getAllEntities(): Observable<Entity[]> {\n    return this.dataService.get<Entity[]>(`/api/entities/all`).pipe(map((data) => data.data))\n  }\n\n  getEntities(page, itemsPerPage): Observable<Entity[]> {\n    let params = new HttpParams()\n      .set('page', page)\n      .set('itemsPerPage', itemsPerPage);\n    return this.dataService.get<Entity[]>(`/api/entities`, params).pipe(map((data) => data.data))\n  }\n\n  getEntitiesCount(): Observable<number> {\n    return this.dataService.get<number>(`/api/entities/count`).pipe(map((data) => data.data));\n  }\n\n  save(entity: Entity): Observable<Entity> {\n    return this.dataService.post<Entity>('/api/entities', entity).pipe(map((data) => data.data));\n  }\n\n  public getEntityByField(fieldType: string, fieldValue: any): Observable<Entity> {\n    let params = new HttpParams()\n      .set(\"fieldName\", fieldType)\n      .set('value', fieldValue);\n\n    return this.dataService.get<Entity>(`/api/entities/unique`, params).pipe(map((data) => data.data));\n  }\n\n  public deleteEntities(ids: number[]): Observable<ServerResp<any>> {\n    let params = new HttpParams();\n    ids.forEach(id => params = params.append('ids', `${id}`));\n    return this.dataService.post('/api/entities/delete', params);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpParams} from \"@angular/common/http\";\nimport {DataService} from \"./data.service\";\nimport {LoanProduct} from \"../../model/loan-product\";\nimport {map} from \"rxjs/operators\";\nimport {Observable} from \"rxjs\";\nimport {ServerResp} from \"../../model/server-resp\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoanProductService {\n\n  constructor(\n    private http: HttpClient,\n    private dataService: DataService\n  ) {\n  }\n\n  getLoanProduct(id: number) {\n    return this.dataService.get<LoanProduct>(`/api/loan-products/${id}`).pipe(map((data) => data.data));\n  }\n\n  getLoanProducts(page, itemsPerPage): Observable<LoanProduct[]> {\n    let params = new HttpParams()\n      .set('page', page)\n      .set('itemsPerPage', itemsPerPage);\n    return this.dataService.get<LoanProduct[]>(`/api/loan-products`, params).pipe(map((data) => data.data))\n  }\n\n  getLoanProductsCount(): Observable<number> {\n    return this.dataService.get<number>(`/api/loan-products/count`).pipe(map((data) => data.data));\n  }\n\n  save(loanProduct: LoanProduct): Observable<LoanProduct> {\n    return this.dataService.post<LoanProduct>(`/api/loan-products`, loanProduct).pipe(map((data) => data.data));\n  }\n\n  public getLoanProductByField(fieldType: string, fieldValue: any): Observable<LoanProduct> {\n    let params = new HttpParams()\n      .set(\"fieldName\", fieldType)\n      .set('value', fieldValue);\n\n    return this.dataService.get<LoanProduct>(`/api/loan-products/unique`, params).pipe(map((data) => data.data));\n  }\n\n  public deleteLoanProducts(ids: number[]): Observable<ServerResp<any>> {\n    let params = new HttpParams();\n    ids.forEach(id => params = params.append('ids', `${id}`));\n    return this.dataService.post('/api/loan-products/delete', params);\n  }\n\n  public getAllLoanProducts(): Observable<LoanProduct[]> {\n    return this.dataService.get<LoanProduct[]>(`/api/loan-products/all`).pipe(map(data => data.data));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpParams} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {Loan} from '../../model/loan';\nimport {map} from 'rxjs/operators';\nimport {DataService} from './data.service';\nimport {LoanCounts} from '../../model/ui/components/loan-counts';\nimport {ReportForm} from '../../model/ui/components/report-form';\nimport {Report} from \"../../model/report\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoanService {\n\n  constructor(\n    private http: HttpClient,\n    private dataService: DataService\n  ) {\n  }\n\n  getMainPageLoans(page, itemsPerPage): Observable<Loan[]> {\n    const params = new HttpParams()\n      .set('page', page)\n      .set('itemsPerPage', itemsPerPage);\n    return this.dataService.get<Loan[]>(`/api/loans/main`, params).pipe(map((data) => data.data));\n  }\n\n  getMainPageLoansCount(): Observable<number> {\n    return this.dataService.get<number>(`/api/loans/main/count`).pipe(map((data) => data.data));\n  }\n\n  getMainLoansCount(): Observable<LoanCounts> {\n    return this.dataService.get<LoanCounts>(`/api/main/count`).pipe(map((data) => data.data));\n  }\n\n  getReports(reportForm: ReportForm) {\n    let params: HttpParams = new HttpParams();\n    for (const reportFormKey of Object.keys(reportForm)) {\n      params = params.append(reportFormKey, reportForm[reportFormKey]);\n    }\n\n    return this.dataService.get<Loan[]>(`/api/loans/reports`, params).pipe(map((data) => data.data));\n  }\n\n  getReportsCount(reportForm: ReportForm) {\n    let params: HttpParams = new HttpParams();\n    for (const reportFormKey of Object.keys(reportForm)) {\n      params = params.append(reportFormKey, reportForm[reportFormKey]);\n    }\n\n    return this.dataService.get<number>(`/api/loans/reports/count`, params).pipe(map((data) => data.data));\n  }\n\n  getComprehensiveReports(reportForm: ReportForm): Observable<Report[]> {\n    let params: HttpParams = new HttpParams();\n    for (const reportFormKey of Object.keys(reportForm)) {\n      params = params.append(reportFormKey, reportForm[reportFormKey]);\n    }\n\n    return this.dataService.get<Report[]>(`/api/loans/comprehensive/report`, params).pipe(map((data) => data.data));\n  }\n\n  getComprehensiveReportsCount(reportForm: ReportForm): Observable<number> {\n    let params: HttpParams = new HttpParams();\n    for (const reportFormKey of Object.keys(reportForm)) {\n      params = params.append(reportFormKey, reportForm[reportFormKey]);\n    }\n\n    return this.dataService.get<number>(`/api/loans/comprehensive/report/count`, params).pipe(map((data) => data.data));\n  }\n\n  getForwardedLoans(): Observable<Loan[]> {\n    return this.dataService.get<Loan[]>(`/api/loans/forwarded`).pipe(map((data) => data.data));\n  }\n\n  getReceivedLoans(): Observable<Loan[]> {\n    return this.dataService.get<Loan[]>(`/api/loans/received`).pipe(map((data) => data.data));\n  }\n\n  receiveLoan(loanId: number): Observable<Loan> {\n    return this.dataService.get<Loan>(`/api/loans/receive/${loanId}`).pipe(map((data) => data.data));\n  }\n\n  save(loan: Loan): Observable<Loan> {\n    return this.dataService.post<Loan>(`/api/loans`, loan).pipe(map((data) => data.data));\n  }\n\n  find(loanId: number): Observable<Loan> {\n    return this.dataService.get<Loan>(`/api/loans/${loanId}`).pipe(map(data => data.data));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpParams} from \"@angular/common/http\";\nimport {DataService} from \"./data.service\";\nimport {Report} from \"../../model/report\";\nimport {map} from \"rxjs/operators\";\nimport {Observable} from \"rxjs\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ReportService {\n\n  constructor(\n    private http: HttpClient,\n    private dataService: DataService\n  ) {\n  }\n\n  getReportsByLoanId(loanId: number, page: number, itemsPerPage: number): Observable<Report[]> {\n    const params = new HttpParams()\n      .append('page', page.toString())\n      .append('itemsPerPage', itemsPerPage.toString());\n\n    return this.dataService.get<Report[]>(`/api/reports/${loanId}`, params).pipe(map(data => data.data));\n  }\n\n  getReportsByLoanIdCount(loanId: number): Observable<number> {\n    return this.dataService.get<number>(`/api/reports/${loanId}/count`).pipe(map(data => data.data));\n  }\n\n  report(loanId: number, page: number, itemsPerPage: number) {\n    const params = new HttpParams()\n      .append('loanId', loanId.toString())\n      .append('page', page.toString())\n      .append('itemsPerPage', itemsPerPage.toString());\n\n    this.dataService.get(`/api/reports/report`, params);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {DataService} from \"./data.service\";\nimport {Observable} from \"rxjs\";\nimport {Role} from \"../../model/role\";\nimport {map} from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RoleService {\n\n  constructor(\n    private http: HttpClient,\n    private dataService: DataService\n  ) { }\n\n  getAllRoles(): Observable<Role[]> {\n    return this.dataService.get<Role[]>(`/api/roles`).pipe(map((data) => data.data));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {DataService} from './data.service';\nimport {BehaviorSubject, Observable, of} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {Router} from '@angular/router';\nimport {Title} from '@angular/platform-browser';\nimport {clone} from '../common';\nimport {User} from '../../model/user';\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\nimport {ServerResp} from '../../model/server-resp';\nimport {Entity} from '../../model/entity';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n\n  private user: User;\n  private user$: BehaviorSubject<User> = new BehaviorSubject<User>(undefined);\n\n  constructor(private dataService: DataService, private router: Router, private titleService: Title, private httpClient: HttpClient) {\n    this.dataService.getCurrentUser().subscribe((data) => {\n      this.setUser(data);\n    });\n  }\n\n  getCurrentUser(): Observable<User> {\n    return this.dataService.getCurrentUser();\n  }\n\n  save(formData: FormData): Observable<ServerResp<User>> {\n    return this.dataService.post<User>(`/api/users`, formData);\n  }\n\n  getUser(id: number) {\n    return this.dataService.get<User>(`/api/users/${id}`).pipe(map((data) => data.data));\n  }\n\n  getUsers(page, itemsPerPage): Observable<User[]> {\n    const params = new HttpParams()\n      .set('page', page)\n      .set('itemsPerPage', itemsPerPage);\n\n    return this.dataService.get<User[]>(`/api/users`, params).pipe(map((data) => data.data));\n  }\n\n  getUsersCount(): Observable<number> {\n    return this.dataService.get<number>(`/api/users/count`).pipe(map((data) => data.data));\n  }\n\n  getAllUsers(): Observable<User[]> {\n    return this.dataService.get<User[]>(`/api/users/all`).pipe(map((data) => data.data));\n  }\n\n  getNewUsers(page, itemsPerPage): Observable<User[]> {\n    const params = new HttpParams()\n      .set('page', page)\n      .set('itemsPerPage', itemsPerPage);\n    return this.dataService.get<User[]>(`/api/users/new`, params).pipe(map((data) => data.data));\n  }\n\n  getNewUsersCount(): Observable<number> {\n    return this.dataService.get<number>(`/api/users/new/count`).pipe(map((data) => data.data));\n  }\n\n  approveUser(user: User): Observable<User> {\n    return this.dataService.post<User>(`/api/users/approve`, user).pipe(map((data) => data.data));\n  }\n\n  getLoggedUsers(): Observable<User[]> {\n    return this.dataService.get<User[]>(`/api/users/logged`).pipe(map((data) => data.data));\n  }\n\n  public getUserByField(fieldType: string, fieldValue: any): Observable<User> {\n    const params = new HttpParams()\n      .set('fieldName', fieldType)\n      .set('value', fieldValue);\n\n    return this.dataService.get<User>(`/api/users/unique`, params).pipe(map((data) => data.data));\n  }\n\n  public deleteUsers(ids: number[]): Observable<ServerResp<any>> {\n    let params = new HttpParams();\n    ids.forEach(id => params = params.append('ids', `${id}`));\n    return this.dataService.post('/api/users/delete', params);\n  }\n\n  logoutUser(employeeId: string): Observable<ServerResp<User[]>> {\n    return this.dataService.post<User[]>(`/api/users/logout/${employeeId}`, {});\n  }\n\n  private setUser(data: User): void {\n    this.user = clone(data);\n    this.user$.next(clone(data));\n  }\n\n  private copyOfUser(): User {\n    return JSON.parse(JSON.stringify((this.user)));\n  }\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {Customer} from \"../../model/customer\";\nimport {ActivatedRoute, ParamMap, Router} from \"@angular/router\";\nimport {CustomerService} from \"../../core/services/customer.service\";\nimport {Observable} from \"rxjs\";\n\nconst toSpaceBetween = (s: string): string => {\n  return s.replace(\n    /[A-Z]/g,\n    (c: string) => ` ${c.toLowerCase()}`\n  );\n};\n\n@Component({\n  selector: 'loanlead-customer-form',\n  templateUrl: './customer-form.component.html',\n  styleUrls: ['./customer-form.component.scss']\n})\nexport class CustomerFormComponent implements OnInit {\n  customerId: number;\n  customer: Customer;\n  formGroup: FormGroup;\n\n  constructor(\n    private router: Router,\n    private customerService: CustomerService,\n    private fb: FormBuilder,\n    private activatedRoute: ActivatedRoute\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.formGroup = this.fb.group({\n      name: [''],\n      document: [''],\n      documentType: ['national id'],\n      phoneNumber: ['', Validators.pattern('07[0-9]{8}')],\n      optionalPhoneNumber: ['', Validators.pattern('07[0-9]{8}')],\n    }, {\n      validators: Validators.required\n    });\n\n    this.activatedRoute.paramMap\n      .subscribe((paramMap: ParamMap) => {\n        this.customerId = Number.parseInt(paramMap.get('customerId'));\n\n        if (this.customerId) {\n          this.customerService.getCustomer(this.customerId)\n            .subscribe((customer: Customer) => {\n              if (customer != null) {\n                this.customer = customer;\n                this.formGroup.patchValue({\n                  name: customer.name,\n                  document: customer.document,\n                  documentType: customer.documentType,\n                  phoneNumber: customer.phoneNumber,\n                  optionalPhoneNumber: customer.optionalPhoneNumber\n                });\n              }\n            });\n        }\n      });\n  }\n\n  validate(): boolean {\n    let result = true;\n    const controls = this.formGroup.controls;\n\n    Object.keys(controls).forEach((controlName) => {\n      result = this.validateFormControl(controlName);\n    });\n\n    return result;\n  }\n\n  validateDocument() {\n    const documentControl = this.formGroup.get('document');\n\n    if (!documentControl.errors && documentControl.value) {\n      let invalid = false;\n      switch (this.formGroup.get('documentType').value) {\n        case 'national id':\n          if (!documentControl.value.toString().match(/C[A-Z0-9]{13}/g)) {\n            invalid = true;\n          }\n          break;\n        case 'passport':\n          if (!documentControl.value.toString().match(/B\\d{9}/g)) {\n            invalid = true;\n          }\n          break;\n        case 'driving permit':\n          if (!documentControl.value.toString().match(/\\d{8}\\/\\d\\/\\d/g)) {\n            invalid = true;\n          }\n          break;\n      }\n\n      if (invalid) {\n        documentControl.setErrors({invalid: true});\n      }\n    }\n\n    this.validateFormControl('document');\n  }\n\n  validateFormControl(controlName: string): boolean {\n    let result = true;\n    const control = this.formGroup.get(controlName);\n    const input = document.getElementById(controlName);\n    const labelSpan = document\n      .querySelector(`#${controlName} + .feedback`);\n\n    input.classList[control.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (control.errors) {\n      result = false;\n\n      Object.keys(control.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'invalid':\n            textContent = 'Please, enter valid field';\n            break;\n          case 'notUnique':\n            textContent = `This ${toSpaceBetween(controlName)} already exists`;\n            break;\n          case 'pattern':\n            textContent = `Invalid ${toSpaceBetween(controlName)} format`;\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n\n    labelSpan.textContent = textContent;\n\n    return result;\n  }\n\n  isUnique(fieldType: string): boolean {\n    let result = true;\n    const control = this.formGroup.get(fieldType);\n    const form = document.querySelector('form');\n\n    if (!control.errors && control.value) {\n      this.customerService.getCustomerByField(fieldType, control.value)\n        .subscribe((data: Customer) => {\n          if (data != null && (!this.customerId || data.id != this.customer.id)) {\n            if (control.errors) {\n              control.errors.notUnique = {notUnique: true};\n            } else {\n              control.setErrors({notUnique: true});\n            }\n          } else {\n            if (control.errors) {\n              delete control.errors.notUnique;\n            }\n          }\n\n          result = this.validateFormControl(fieldType);\n        });\n    }\n\n    return result;\n  }\n\n  submit() {\n    const form = document.querySelector('form');\n\n    if (!form.classList.contains('validated')) {\n      form.classList.add('validated');\n      this.isUnique('name');\n    }\n\n    if (this.validate()) {\n      const customer: Customer = {\n        name: this.formGroup.get('name').value,\n        document: this.formGroup.get('document').value,\n        documentType: this.formGroup.get('documentType').value,\n        phoneNumber: this.formGroup.get('phoneNumber').value,\n        optionalPhoneNumber: this.formGroup.get('optionalPhoneNumber').value\n      };\n\n      if (this.customer) {\n        customer.id = this.customer.id;\n        customer.createdAt = this.customer.createdAt;\n      }\n\n      const observable: Observable<Customer> = this.customerService.save(customer);\n\n      observable\n        .subscribe((data: Customer) => {\n          this.router.navigate(['/customers']);\n        }, () => {\n          alert(\"Error while saving customer\");\n        });\n    }\n  }\n\n}\n","<loanlead-navigation></loanlead-navigation>\n<div class=\"border border-secondary m-3 p-3 bg-white rounded\" style=\"position: relative; z-index: 2;\">\n  <div class=\"py-2\">\n    <label class=\"rounded col-lg-2 col-md-3 col-sm-6 col py-2 page-heading d-flex align-items-center justify-content-center\">\n      <i class=\"material-icons\">person</i>&nbsp;Customer Form</label>\n  </div>\n  <hr>\n  <div class=\"py-2\">\n    <form action=\"/customers\" method=\"POST\" class=\"form-horizontal form-with-image\" [formGroup]=\"formGroup\" (ngSubmit)=\"submit()\">\n      <fieldset class=\"border border-yellow rounded\">\n        <legend class=\"d-block w-auto ml-3 text-dark-blue\">Form</legend>\n\n        <div class=\"row px-4 justify-content-center\">\n          <div class=\"col-lg-5 col-md-6 col-12 d-flex justify-content-center flex-column\">\n            <div class=\"form-group pl-3\">\n              <label for=\"name\">Name</label>\n              <input id=\"name\"\n                     class=\"form-control\"\n                     type=\"text\"\n                     placeholder=\"Name\"\n                     formControlName=\"name\"\n                     autocomplete=\"off\"\n                     (input)=\"validate()\"\n                     (blur)=\"isUnique('name')\"\n                     required>\n              <div class=\"feedback text-danger\">\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"documentType\">Document Type</label>\n              <select id=\"documentType\"\n                      class=\"form-control\"\n                      formControlName=\"documentType\"\n                      required\n                      (change)=\"validateDocument()\">\n                <option value=\"national id\">National ID</option>\n                <option value=\"passport\">Passport</option>\n                <option value=\"driving permit\">Driving Permit</option>\n                <option value=\"village id\">Village Id</option>\n              </select>\n              <div class=\"feedback text-danger\">\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row px-4\">\n          <div class=\"responsive-form-group w-100 justify-content-center\">\n            <div class=\"col-lg-4 col-md-5 col-12\">\n              <div class=\"form-group pl-3\">\n                <label for=\"document\">Document</label>\n                <input id=\"document\"\n                       class=\"form-control\"\n                       type=\"text\"\n                       placeholder=\"Document\"\n                       formControlName=\"document\"\n                       autocomplete=\"off\"\n                       (input)=\"validateDocument()\"\n                       (blur)=\"isUnique('document')\"\n                       required>\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"phoneNumber\">First Phone Number</label>\n                <input id=\"phoneNumber\"\n                       class=\"form-control\"\n                       type=\"text\"\n                       placeholder=\"First Phone Number\"\n                       formControlName=\"phoneNumber\"\n                       autocomplete=\"off\"\n                       (input)=\"validate()\"\n                       (blur)=\"isUnique('phoneNumber')\"\n                       required>\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-4 col-md-5 col-12\">\n            </div>\n          </div>\n        </div>\n        <div class=\"row px-4\">\n          <div class=\"responsive-form-group w-100 justify-content-center\">\n            <div class=\"col-lg-4 col-md-5 col-12\">\n              <div class=\"form-group\">\n                <label for=\"optionalPhoneNumber\">Second Phone Number</label>\n                <input id=\"optionalPhoneNumber\"\n                       class=\"form-control\"\n                       type=\"text\"\n                       placeholder=\"Second Phone Number\"\n                       formControlName=\"optionalPhoneNumber\"\n                       autocomplete=\"off\"\n                       (input)=\"validate()\"\n                       (blur)=\"isUnique('optionalPhoneNumber')\">\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-4 col-md-5 col-12\"></div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"d-flex flex-row pt-2 pb-4 justify-content-end\">\n          <a routerLink=\"/customers\"\n             class=\"no-decoration btn btn-secondary submit-button d-flex col-2 align-items-center justify-content-center mr-4\">\n            <i class=\"material-icons\">arrow_back</i>&nbsp;Back\n          </a>\n          <button type=\"submit\"\n                  class=\"btn btn-primary submit-button d-flex col-2 justify-content-center mr-4\" [disabled]=\"!formGroup.valid\">Save\n          </button>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {Customer} from '../model/customer';\nimport {Observable} from 'rxjs';\nimport {CustomerService} from '../core/services/customer.service';\nimport {FormControl, Validators} from '@angular/forms';\nimport * as $ from 'jquery';\nimport {User} from '../model/user';\nimport {UserService} from '../core/services/user.service';\nimport {Loan} from '../model/loan';\nimport {ServerResp} from '../model/server-resp';\nimport {Branch} from \"../model/branch\";\nimport {NgxSpinnerService} from \"ngx-spinner\";\n\n@Component({\n  selector: 'loanlead-customers',\n  templateUrl: './customers.component.html',\n  styleUrls: ['./customers.component.scss']\n})\nexport class CustomersComponent implements OnInit {\n  searchValue: FormControl = new FormControl('');\n  itemsCount: FormControl = new FormControl(\n    5,\n    [\n      Validators.required,\n      Validators.min(1),\n    ]);\n\n  customersCount$: Observable<number>;\n  customers$: Observable<Customer[]>;\n  currentUser$: Observable<User>;\n  customerLoans: Loan[];\n  userBranches: string[];\n  countChanged: boolean;\n  selectAll: boolean;\n  anySelected: boolean;\n  entitiesToDelete: number[];\n\n  constructor(private customerService: CustomerService, private userService: UserService, private spinner: NgxSpinnerService) {\n  }\n\n  ngOnInit(): void {\n    this.spinner.show();\n    this.load(1);\n    this.customersCount$ = this.customerService.getCustomersCount();\n    this.currentUser$ = this.userService.getCurrentUser();\n    this.selectAll = false;\n    this.entitiesToDelete = [];\n  }\n\n  check(id?: number): void {\n    if (id) {\n      if (this.entitiesToDelete.includes(id)) {\n        this.entitiesToDelete.splice(this.entitiesToDelete.indexOf(id), 1);\n      } else {\n        this.entitiesToDelete.push(id);\n      }\n    }\n    this.anySelected = this.entitiesToDelete.length > 0;\n  }\n\n  load(page: number) {\n    this.customers$ = this.customerService.getCustomers(page - 1, this.itemsCount.value).pipe(customers => {\n      this.spinner.hide();\n      return customers;\n    });\n  }\n\n  validate() {\n    const input = document.getElementById('itemsCount');\n    const labelSpan = document.querySelector('#itemsCount + .feedback');\n\n    input.classList[this.itemsCount.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (this.itemsCount.errors) {\n      Object.keys(this.itemsCount.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'min':\n            textContent = 'Please, enter higher number';\n            break;\n          case 'max':\n            textContent = 'Please, enter lower number';\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n    labelSpan.textContent = textContent;\n    this.countChanged = true;\n  }\n\n  filter() {\n    if (!this.itemsCount.errors && this.countChanged) {\n      const page = 1;\n      this.load(page);\n      this.countChanged = false;\n    }\n  }\n\n  pagesCount(customersCount: number) {\n    const result = customersCount / this.itemsCount.value;\n    return Math.round(result) < result ? Math.round(result) + 1 : Math.round(result);\n  }\n\n  selectAllTrigger(customers: Customer[]) {\n    this.selectAll = !this.selectAll;\n    if (this.selectAll) {\n      this.entitiesToDelete = customers.map(customer => customer.id);\n    } else {\n      this.entitiesToDelete = [];\n    }\n    this.anySelected = this.selectAll;\n  }\n\n  format(date: Date) {\n    return ((date.getDate() < 10) ? '0' + date.getDate() : date.getDate()) +\n      '/' + ((date.getMonth() < 10) ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)) +\n      '/' + date.getFullYear() +\n      ' ' + ((date.getHours() < 10) ? '0' + date.getHours() : date.getHours()) +\n      ':' + ((date.getMinutes() < 10) ? '0' + date.getMinutes() : date.getMinutes()) +\n      ':' + ((date.getSeconds() < 10) ? '0' + date.getSeconds() : date.getSeconds());\n  }\n\n  dateInstance(date: string) {\n    return new Date(date);\n  }\n\n  modifyAmount(amount: string): string {\n    return amount.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n\n  setCustomerLoans(customer: Customer) {\n    this.customerLoans = customer.loans;\n  }\n\n  setUserBranches(branches: string[]) {\n    this.userBranches = branches;\n  }\n\n  delete() {\n    this.customerService.deleteCustomers(this.entitiesToDelete).subscribe((data: ServerResp<any>) => {\n      if (data.err) {\n        alert(`Request error with code ${data.err.status}`);\n      } else {\n        this.load(1);\n        this.customersCount$ = this.customerService.getCustomersCount();\n      }\n    });\n  }\n\n  filterLoans(event: Event) {\n    $('#contentTable tbody tr').filter(function() {\n      $(this).toggle($(this).text().toLowerCase().indexOf($(event.target).val().toLowerCase()) > -1);\n    });\n  }\n}\n","<ngx-spinner bgColor=\"#FFFFFF\" size=\"medium\" color=\"#2129BF\" type=\"ball-clip-rotate\">\n  <p class=\"text-light\" style=\"font-size: 20px;\">Loading...</p>\n</ngx-spinner>\n\n<loanlead-navigation></loanlead-navigation>\n<ng-container *ngIf=\"customers$ | async as customers\">\n  <div *ngIf=\"customers.length\" class=\"border border-secondary m-3 p-3 bg-white rounded animated fadeIn\">\n    <div class=\"py-2 page-body-heading justify-content-between\">\n      <label class=\"rounded col-lg-2 col-md-3 col-12 py-2 page-heading d-flex align-items-center justify-content-center\"><i class=\"material-icons\">group</i>&nbsp;Customers</label>\n\n      <div class=\"col-md-3 col-12\">\n        <div class=\"form-group\">\n          <label for=\"itemsCount\">Items Count</label>\n          <input id=\"itemsCount\"\n                 type=\"number\"\n                 placeholder=\"Search\"\n                 data-placeholder=\"Search\"\n                 class=\"form-control\"\n                 [formControl]=\"itemsCount\"\n                 (input)=\"validate()\"\n                 (blur)=\"filter()\"\n                 required>\n          <div class=\"feedback text-danger\"></div>\n        </div>\n      </div>\n      <div class=\"form-group col-lg-4 col-md-5 col-12 py-2 pr-0 pl-md-2 pl-0\">\n        <label for=\"filterInput\">Search</label>\n        <input type=\"text\" id=\"filterInput\" placeholder=\"Loan\" class=\"form-control w-100\" (input)=\"filterLoans($event)\">\n      </div>\n    </div>\n    <div class=\"py-2 d-flex justify-content-end\">\n      <a routerLink=\"../customer_form\" class=\"btn btn-primary d-flex align-items-center col-lg-2 col-md-3 col-sm-4 col-12 justify-content-center py-2\"><i class=\"material-icons\">add</i>&nbsp;Create new customer</a>\n    </div>\n    <ng-container *ngIf=\"currentUser$ | async as currentUser\">\n      <div class=\"py-2\" style=\"overflow-x: auto;\">\n        <table id=\"contentTable\" class=\"table table-striped table-hover table-bordered table-condensed\" style=\"min-width: 1595px;\">\n          <thead>\n          <tr>\n            <th>ID</th>\n            <th>Name</th>\n            <th>Status</th>\n            <th>Phone number 1</th>\n            <th>Created at</th>\n            <th *ngIf=\"currentUser.roles.includes('Application')\">Edit</th>\n            <th *ngIf=\"currentUser.roles.includes('Application')\"><input type=\"checkbox\" id=\"select-all\" (click)=\"selectAllTrigger(customers)\"/></th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr [id]=\"[customer.id]\" *ngFor=\"let customer of customers\">\n            <td>{{ customer.id }}</td>\n            <td>{{ customer.name }}</td>\n            <td><a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#loansTableModal\" (click)=\"setCustomerLoans(customer)\">{{ customer.loans.length == 0 ? 'Has no loans' : customer.loans.length == 1 ? 'First time borrower' : 'Repeat borrower' }}</a></td>\n            <td>{{ customer.phoneNumber }}</td>\n            <td>{{ format(dateInstance(customer.createdAt)) }}</td>\n            <td *ngIf=\"currentUser.roles.includes('Application')\"><a [routerLink]=\"['/customer_form/' + customer.id]\">Edit</a></td>\n            <td *ngIf=\"currentUser.roles.includes('Application')\"><input type=\"checkbox\" [checked]=\"selectAll\" (click)=\"check(customer.id)\"></td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n    </ng-container>\n    <div class=\"py-2\">\n      <button type=\"button\" id=\"deleteButton\" class=\"btn btn-primary\" [disabled]=\"!anySelected\" (click)=\"delete()\">Delete customers</button>\n    </div>\n  </div>\n  <div class=\"empty-list\" *ngIf=\"!customers.length\">\n    No customers was found.\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"customersCount$ | async as customersCount\">\n  <app-pagination *ngIf=\"customersCount > itemsCount.value\"\n                  [lastPage]=\"pagesCount(customersCount)\"\n                  (pageChanged)=\"load($event)\">\n  </app-pagination>\n</ng-container>\n\n<ng-container *ngIf=\"customerLoans\">\n  <div class=\"modal fade bd-example-modal-lg\" tabindex=\"-1\" role=\"dialog\" id=\"loansTableModal\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\">Loans</h4>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n        </div>\n        <div class=\"modal-body\" style=\"overflow-x: auto;\">\n          <table *ngIf=\"customerLoans.length\" id=\"loansTable\" class=\"table table-striped table-hover table-bordered table-condensed\"\n                 style=\"min-width: 1350px;\">\n            <thead>\n            <tr>\n              <th>ID</th>\n              <th>Customer</th>\n              <th>Type</th>\n              <th>Tenure</th>\n              <th>Amount</th>\n              <th>Stage</th>\n              <th>Status</th>\n              <th>User</th>\n              <th>Branch</th>\n              <th>Stage at</th>\n              <th>Created at</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr *ngFor=\"let loan of customerLoans\">\n              <td>{{ loan.id }}</td>\n              <td>{{ loan.customer }}</td>\n              <td>{{ loan.type }}</td>\n              <td>{{ loan.tenure }}</td>\n              <td>{{ modifyAmount(loan.amount.toString()) }}</td>\n              <td>{{ loan.role.displayName }}</td>\n              <td>{{ loan.status }}</td>\n              <td>{{ loan.user.fullName }}</td>\n              <td><a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#branchesTableModal\" (click)=\"setUserBranches(loan.user.branches)\">Branches</a></td>\n              <td>{{ format(dateInstance(loan.stagedAt)) }}</td>\n              <td>{{ format(dateInstance(loan.createdAt)) }}</td>\n            </tr>\n            </tbody>\n          </table>\n          <div class=\"empty-list\" *ngIf=\"!customerLoans.length\">\n            No loans was found.\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"userBranches\">\n  <div class=\"modal fade bd-example-modal-lg\" tabindex=\"-1\" role=\"dialog\" id=\"branchesTableModal\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\">Roles</h4>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n        </div>\n        <div class=\"modal-body\" style=\"overflow-x: auto;\">\n          <ul *ngIf=\"userBranches.length\">\n            <li *ngFor=\"let branch of userBranches\">{{ branch }}</li>\n          </ul>\n          <div class=\"empty-list\" *ngIf=\"!userBranches.length\">\n            No loans was found.\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {NavigationModule} from '../ui/navigation/navigation.module';\nimport {PaginationModule} from '../common/pagination/pagination.module';\nimport {RouterModule} from '@angular/router';\nimport {CustomersComponent} from './customers.component';\nimport {CustomerFormComponent} from './customer-form/customer-form.component';\nimport {NgxSpinnerModule} from \"ngx-spinner\";\n\n\n\n@NgModule({\n  declarations: [CustomersComponent, CustomerFormComponent],\n  imports: [\n    ReactiveFormsModule,\n    NavigationModule,\n    CommonModule,\n    PaginationModule,\n    RouterModule,\n    NgxSpinnerModule\n  ]\n})\nexport class CustomersModule { }\n","import {Component, OnInit} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {User} from '../model/user';\nimport {UserService} from '../core/services/user.service';\nimport {LoanService} from '../core/services/loan.service';\nimport {Loan} from '../model/loan';\nimport {Role} from '../model/role';\nimport {RoleService} from '../core/services/role.service';\nimport {FormControl} from '@angular/forms';\nimport {NgxSpinnerService} from 'ngx-spinner';\n\n@Component({\n  selector: 'loanlead-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n  currentUser$: Observable<User>;\n  forwardedLoans$: Observable<Loan[]>;\n  receivedLoans$: Observable<Loan[]>;\n  userBranches: string[];\n  loanToAction: Loan;\n  roles: Role[];\n\n  comment: FormControl = new FormControl('');\n  deferStage: FormControl = new FormControl('');\n\n  constructor(\n    private userService: UserService,\n    private loanService: LoanService,\n    private roleService: RoleService,\n    private spinner: NgxSpinnerService) {\n  }\n\n  ngOnInit(): void {\n    let loadedEntitiesCount = 0;\n    this.spinner.show();\n    this.currentUser$ = this.userService.getCurrentUser().pipe(user => {\n      loadedEntitiesCount++;\n      return user;\n    });\n\n    this.forwardedLoans$ = this.loanService.getForwardedLoans().pipe(loans => {\n      loadedEntitiesCount++;\n      return loans;\n    });\n\n    this.receivedLoans$ = this.loanService.getReceivedLoans().pipe(loans => {\n      loadedEntitiesCount++;\n      return loans;\n    });\n\n    this.roleService.getAllRoles().subscribe((roles: Role[]) => {\n      this.roles = roles;\n    });\n\n    setInterval(() => {\n      if (loadedEntitiesCount === 3) {\n        this.spinner.hide();\n      }\n    }, 1000);\n  }\n\n  setLoanToAction(loan: Loan) {\n    this.loanToAction = loan;\n  }\n\n  action(deferred?: boolean) {\n    if (deferred) {\n      this.loanToAction.role = this.roles.find(role => role.id === Number.parseInt(this.deferStage.value, 10));\n    }\n\n    this.loanToAction.comment = this.comment.value;\n    this.loanService.save(this.loanToAction).subscribe(() => {\n      this.forwardedLoans$ = this.loanService.getForwardedLoans();\n      this.receivedLoans$ = this.loanService.getReceivedLoans();\n    });\n  }\n\n  receive(loanId: number) {\n    this.loanService.receiveLoan(loanId).subscribe(() => {\n      this.forwardedLoans$ = this.loanService.getForwardedLoans();\n      this.receivedLoans$ = this.loanService.getReceivedLoans();\n    });\n  }\n\n  updateStatus(status: string, loan: Loan) {\n    loan = JSON.parse(JSON.stringify(loan));\n    loan.status = status;\n    this.loanToAction = loan;\n  }\n\n  forward(loan: Loan) {\n    loan = JSON.parse(JSON.stringify(loan));\n    loan.status = 'Forwarded';\n    loan.role = this.roles.find(role => role.id === this.stageToForward(loan));\n    this.loanToAction = loan;\n  }\n\n  defer(loan: Loan) {\n    loan = JSON.parse(JSON.stringify(loan));\n    this.deferStage.setValue(loan.role.id > 6 ? '6' : '1');\n    loan.status = 'Deferred';\n    loan.deferStage = loan.role.id;\n    this.loanToAction = loan;\n  }\n\n  setUserBranches(branches: string[]) {\n    this.userBranches = branches;\n  }\n\n  modifyAmount(amount: string): string {\n    return amount.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n\n  stageToForward(loan: Loan) {\n    if (loan.type === 'Deduction At Source') {\n      if (loan.role.id === 1) {\n        return 3;\n      } else if (loan.role.id === 3) {\n        return 5;\n      } else if (loan.role.id === 5) {\n        return 9;\n      } else {\n        return loan.role.id + 1;\n      }\n    } else {\n      if (loan.amount < 3000000) {\n        if (loan.role.id < 3) {\n          return loan.role.id + 1;\n        } else if (loan.role.id === 3) {\n          return 5;\n        } else if (loan.role.id === 5) {\n          return 8;\n        } else {\n          return loan.role.id + 1;\n        }\n      } else if (loan.amount < 10000000) {\n        if (loan.role.id < 5) {\n          return loan.role.id + 1;\n        } else if (loan.role.id === 5) {\n          return 8;\n        } else {\n          return loan.role.id + 1;\n        }\n      } else {\n        return loan.role.id + 1;\n      }\n    }\n  }\n}\n","<ngx-spinner bgColor=\"#FFFFFF\" size=\"medium\" color=\"#2129BF\" type=\"ball-clip-rotate\">\n  <p class=\"text-light\" style=\"font-size: 20px;\">Loading...</p>\n</ngx-spinner>\n\n<ng-container *ngIf=\"currentUser$ | async as currentUser\">\n  <loanlead-navigation></loanlead-navigation>\n  <div class=\"border border-secondary m-3 p-3 bg-white rounded animated fadeInUp\">\n    <fieldset class=\"border border-yellow rounded px-3\">\n      <legend class=\"d-block w-auto ml-3 text-dark-blue\">{{ currentUser.roles.join(', ') }}</legend>\n\n      <ul class=\"nav nav-tabs\" id=\"user-dashboard-tab\" role=\"tablist\">\n        <li class=\"nav-item order-sm-1 order-3\">\n          <a class=\"nav-link active\" id=\"forwarded-loans-tab\" data-toggle=\"tab\" href=\"#forwarded\" role=\"tab\"\n             aria-controls=\"forwarded\" aria-selected=\"true\">Forwarded</a>\n        </li>\n        <li class=\"nav-item order-sm-2 order-4\">\n          <a class=\"nav-link\" id=\"received-loans-tab\" data-toggle=\"tab\" href=\"#received\" role=\"tab\"\n             aria-controls=\"received\" aria-selected=\"false\">Received</a>\n        </li>\n        <li *ngIf=\"currentUser.roles.includes('Application')\"\n            class=\"nav-item order-sm-3 order-1 col-sm-auto nav-item pb-sm-0 pr-0 pl-sm-2 pl-0 pb-2 ml-auto\">\n          <a routerLink=\"../loan_form\"\n             class=\"btn btn-primary text-light d-flex align-items-center justify-content-center p-2 align-items-start\"\n             style=\"height: 83.5%;\">\n            <i class=\"material-icons\">add</i>&nbsp;Create a loan\n          </a>\n        </li>\n      </ul>\n\n      <div class=\"tab-content\" id=\"user-dashboard-tab-content\">\n        <div class=\"tab-pane fade show active\" id=\"forwarded\" role=\"tabpanel\" aria-labelledby=\"forwarded-loans-tab\">\n          <ng-container *ngIf=\"forwardedLoans$ | async as forwardedLoans\">\n            <div class=\"py-2\" style=\"overflow-x: auto;\">\n              <table id=\"forwardedLoans\" class=\"table table-striped table-hover table-bordered table-condensed\"\n                     style=\"min-width: 1350px;\">\n                <thead>\n                <tr>\n                  <th>Receive</th>\n                  <th>ID</th>\n                  <th>Customer</th>\n                  <th>Product</th>\n                  <th>Tenure</th>\n                  <th>Amount</th>\n                  <th>Stage</th>\n                  <th>Status</th>\n                  <th>User</th>\n                  <th>Branches</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr *ngFor=\"let forwardedLoan of forwardedLoans\" [id]=\"forwardedLoan.id\">\n                  <td><a class=\"btn btn-purple text-yellow\" (click)=\"receive(forwardedLoan.id)\">Receive</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ forwardedLoan.id }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ forwardedLoan.customer }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ forwardedLoan.loanProduct.loanProduct }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ forwardedLoan.tenure }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue amount\">{{ modifyAmount(forwardedLoan.amount.toString()) }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ forwardedLoan.role.displayName }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ forwardedLoan.status }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ forwardedLoan.user.fullName }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\" data-toggle=\"modal\" data-target=\"#branchesTableModal\"\n                         (click)=\"setUserBranches(forwardedLoan.user.branches)\">Branches</a></td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </ng-container>\n        </div>\n        <div class=\"tab-pane fade\" id=\"received\" role=\"tabpanel\" aria-labelledby=\"received-loans-tab\">\n          <ng-container *ngIf=\"receivedLoans$ | async as receivedLoans\">\n            <div class=\"py-2\" style=\"overflow-x: auto;\">\n              <table id=\"receivedLoans\" class=\"table table-striped table-hover table-bordered table-condensed\"\n                     style=\"min-width: 1350px;\">\n                <thead>\n                <tr>\n                  <th *ngIf=\"roles\">Actions</th>\n                  <th>ID</th>\n                  <th>Customer</th>\n                  <th>Product</th>\n                  <th>Tenure</th>\n                  <th>Amount</th>\n                  <th>Stage</th>\n                  <th>Status</th>\n                  <th>User</th>\n                  <th>Branches</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr *ngFor=\"let receivedLoan of receivedLoans\" [id]=\"receivedLoan.id\">\n                  <td *ngIf=\"roles\" class=\"dropdown\">\n                    <a href=\"#\" class=\"text-dark-blue\" data-toggle=\"dropdown\" role=\"button\"\n                       [id]=\"['actionMenu' + receivedLoan.id]\"\n                       aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"material-icons\">more_vert</i></a>\n\n                    <div class=\"dropdown-menu position-absolute\"\n                         [attr.aria-labelledby]=\"['actionMenu' + receivedLoan.id]\">\n                      <a *ngIf=\"[2,4,6,7,8,10,12].includes(receivedLoan.role.id)\"\n                         (click)=\"updateStatus('Approved', receivedLoan)\"\n                         data-toggle=\"modal\"\n                         data-target=\"#comment\"\n                         class=\"dropdown-item d-flex align-items-center no-decoration\"\n                         [ngClass]=\"{'disabled text-secondary': receivedLoan.status !== 'Received', 'text-success': receivedLoan.status === 'Received'}\">\n                        <i class=\"material-icons\">check</i>Approve\n                      </a>\n                      <a *ngIf=\"[2,4,6,7,8,10,12].includes(receivedLoan.role.id)\"\n                         href=\"javascript:void(0);\"\n                         data-toggle=\"modal\"\n                         data-target=\"#defer\"\n                         (click)=\"defer(receivedLoan)\"\n                         class=\"dropdown-item d-flex align-items-center no-decoration\"\n                         [ngClass]=\"{'disabled text-secondary': receivedLoan.status !== 'Received', 'text-success': receivedLoan.status === 'Received'}\">\n                        <i class=\"material-icons\">edit</i>Defer\n                      </a>\n                      <a *ngIf=\"[2,4,6].includes(receivedLoan.role.id)\"\n                         href=\"javascript:void(0);\"\n                         data-toggle=\"modal\"\n                         data-target=\"#comment\"\n                         class=\"dropdown-item d-flex align-items-center no-decoration\"\n                         [ngClass]=\"{'disabled text-secondary': receivedLoan.status !== 'Received', 'text-success': receivedLoan.status === 'Received'}\"\n                         (click)=\"updateStatus('Rejected', receivedLoan)\">\n                        <i class=\"material-icons\">block</i>Reject\n                      </a>\n                      <a *ngIf=\"receivedLoan.role.displayName === 'Application'\"\n                         [routerLink]=\"['/loan_form/' + receivedLoan.id]\"\n                         class=\"dropdown-item d-flex text-success align-items-center no-decoration\">Edit</a>\n                      <a *ngIf=\"receivedLoan.role.displayName !== 'Disbursement'\" href=\"javascript:void(0);\"\n                         data-toggle=\"modal\"\n                         data-target=\"#comment\"\n                         (click)=\"forward(receivedLoan)\"\n                         class=\"dropdown-item d-flex align-items-center no-decoration\"\n                         [ngClass]=\"{'disabled text-secondary': receivedLoan.status === 'Received' && [2,4,6,7,8,10,12].includes(receivedLoan.role.id), 'text-success': receivedLoan.status !== 'Received' || ![2,4,6,7,8,10,12].includes(receivedLoan.role.id)}\">\n                        <i class=\"material-icons\">forward</i>Forward\n                      </a>\n                      <a *ngIf=\"receivedLoan.role.displayName === 'Disbursement'\" href=\"javascript:void(0);\"\n                         data-toggle=\"modal\"\n                         data-target=\"#comment\"\n                         (click)=\"updateStatus('Disbursed', receivedLoan)\"\n                         class=\"dropdown-item d-flex align-items-center no-decoration\"\n                         [ngClass]=\"{'disabled text-secondary': receivedLoan.status !== 'Approved', 'text-success': receivedLoan.status === 'Approved'}\">\n                        <i class=\"material-icons\">forward</i>Disburse\n                      </a>\n                    </div>\n                  </td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ receivedLoan.id }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ receivedLoan.customer }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ receivedLoan.loanProduct.loanProduct }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ receivedLoan.tenure }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue amount\">{{ modifyAmount(receivedLoan.amount.toString()) }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ receivedLoan.role.displayName }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ receivedLoan.status }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\">{{ receivedLoan.user.fullName }}</a></td>\n                  <td><a href=\"#\" class=\"text-dark-blue\" data-toggle=\"modal\" data-target=\"#branchesTableModal\"\n                         (click)=\"setUserBranches(receivedLoan.user.branches)\">Branches</a></td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n    </fieldset>\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"loanToAction\">\n  <div class=\"modal fade\" id=\"defer\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\">Choose the stage</h4>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"form-group\" *ngIf=\"[2, 4, 6].includes(loanToAction.role.id)\">\n            <input type=\"radio\" id=\"application\" name=\"stage\" value=\"1\" [formControl]=\"deferStage\">\n            <label for=\"application\">Application</label>\n          </div>\n          <div class=\"form-group\" *ngIf=\"[4, 6].includes(loanToAction.role.id)\">\n            <input type=\"radio\" id=\"branch-approval\" name=\"stage\" value=\"2\" [formControl]=\"deferStage\">\n            <label for=\"branch-approval\">Branch Approval</label>\n          </div>\n          <div class=\"form-group\" *ngIf=\"loanToAction.role.id === 6\">\n            <input type=\"radio\" id=\"regional-approval\" name=\"stage\" value=\"4\" [formControl]=\"deferStage\">\n            <label for=\"regional-approval\">Regional Approval</label>\n          </div>\n          <div class=\"form-group\" *ngIf=\"loanToAction.role.id > 6\" hidden>\n            <input type=\"radio\" name=\"stage\" value=\"6\" [formControl]=\"deferStage\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"deferComment\">Comment</label>\n            <textarea id=\"deferComment\" name=\"comment\" class=\"form-control\" rows=\"5\" [formControl]=\"comment\">Loan deferred.</textarea>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" (click)=\"action(true)\">Defer</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n\n<div class=\"modal fade\" id=\"comment\" tabindex=\"-1\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h4 class=\"modal-title\">Comment your action</h4>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"form-group\">\n          <label for=\"actionComment\">Comment</label>\n          <textarea name=\"comment\" id=\"actionComment\" class=\"form-control\" rows=\"5\" [formControl]=\"comment\">Comment</textarea>\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" (click)=\"action()\">Done\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"modal fade\" id=\"forward-message-modal\" tabindex=\"-1\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h4 class=\"modal-title\">Message</h4>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n      </div>\n      <div class=\"modal-body\">\n        <p id=\"forward-message\"></p>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<ng-container *ngIf=\"userBranches\">\n  <div class=\"modal fade bd-example-modal-lg\" tabindex=\"-1\" role=\"dialog\" id=\"branchesTableModal\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\">Roles</h4>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n        </div>\n        <div class=\"modal-body\" style=\"overflow-x: auto;\">\n          <ul *ngIf=\"userBranches.length\">\n            <li *ngFor=\"let branch of userBranches\">{{ branch }}</li>\n          </ul>\n          <div class=\"empty-list\" *ngIf=\"!userBranches.length\">\n            No loans was found.\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ReactiveFormsModule} from \"@angular/forms\";\nimport {NavigationModule} from \"../ui/navigation/navigation.module\";\nimport {PaginationModule} from \"../common/pagination/pagination.module\";\nimport {RouterModule} from \"@angular/router\";\nimport {DashboardComponent} from \"./dashboard.component\";\nimport {LoanFormComponent} from \"./loan-form/loan-form.component\";\nimport {NgxSpinnerModule} from \"ngx-spinner\";\n\n\n\n@NgModule({\n  declarations: [DashboardComponent, LoanFormComponent],\n  imports: [\n    ReactiveFormsModule,\n    NavigationModule,\n    CommonModule,\n    PaginationModule,\n    RouterModule,\n    NgxSpinnerModule\n  ]\n})\nexport class DashboardModule { }\n","import {Component, OnInit} from '@angular/core';\nimport {LoanProduct} from '../../model/loan-product';\nimport {Observable} from 'rxjs';\nimport {Customer} from \"../../model/customer\";\nimport {LoanService} from \"../../core/services/loan.service\";\nimport {CustomerService} from \"../../core/services/customer.service\";\nimport {LoanProductService} from \"../../core/services/loan-product.service\";\nimport {ActivatedRoute, ParamMap, Router} from \"@angular/router\";\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {Loan} from \"../../model/loan\";\n\nconst toSpaceBetween = (s: string): string => {\n  return s.replace(\n    /[A-Z]/g,\n    (c: string) => ` ${c.toLowerCase()}`\n  );\n};\n\n@Component({\n  selector: 'loanlead-loan-form',\n  templateUrl: './loan-form.component.html',\n  styleUrls: ['./loan-form.component.scss']\n})\nexport class LoanFormComponent implements OnInit {\n  loanId: number;\n  loanProducts: LoanProduct[];\n  customers: Customer[];\n  formGroup: FormGroup;\n  loan: Loan;\n\n  matchingCustomers: Customer[];\n\n  constructor(\n    private loanService: LoanService,\n    private customerService: CustomerService,\n    private loanProductService: LoanProductService,\n    private activatedRoute: ActivatedRoute,\n    private fb: FormBuilder,\n    private router: Router\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.formGroup = this.fb.group({\n      type: [''],\n      amount: [''],\n      tenure: [''],\n      customer: [''],\n      loanProduct: [''],\n      securityTypes: ['']\n    }, {\n      validators: Validators.required\n    });\n\n    this.loanProductService.getAllLoanProducts().subscribe((loanProducts: LoanProduct[]) => {\n      this.loanProducts = loanProducts;\n    });\n    const customers$: Observable<Customer[]> = this.customerService.getAllCustomers();\n\n    this.activatedRoute.paramMap.subscribe((paramMap: ParamMap) => {\n      this.loanId = Number.parseInt(paramMap.get('loanId'), 10);\n\n      if (this.loanId) {\n        this.loanService.find(this.loanId).subscribe(loan => {\n          this.loan = loan;\n          this.formGroup.patchValue({\n            type: loan.type,\n            amount: loan.amount,\n            tenure: loan.tenure,\n            customer: loan.customer,\n            loanProduct: loan.loanProduct.id,\n            securityTypes: loan.securityTypes\n          });\n\n          customers$.subscribe((customers: Customer[]) => {\n            this.customers = customers;\n            this.matchingCustomers = customers.filter(customer => customer.name === loan.customer);\n          });\n        });\n      } else {\n        customers$.subscribe((customers: Customer[]) => {\n          this.customers = this.matchingCustomers = customers;\n        });\n      }\n    });\n  }\n\n  validate(): boolean {\n    let valid = true;\n    const controls = this.formGroup.controls;\n\n    Object.keys(controls).forEach((field) => {\n      valid = this.validateFormControl(field);\n    });\n\n    return valid;\n  }\n\n  setCustomer(customer: string) {\n    this.formGroup.get('customer').setValue(customer);\n  }\n\n  validateFormControl(field: string) {\n    let result = true;\n    const control = this.formGroup.get(field);\n    const input = document.getElementById(field);\n    const labelSpan = document\n      .querySelector(`#${field} + .feedback`);\n\n    input.classList[control.errors ? 'add' : 'remove']('invalid');\n    let labelContent = '';\n\n    if (control.errors) {\n      Object.keys(control.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            labelContent = 'Please, enter this field';\n            break;\n          case 'notExists':\n            labelContent = `This ${toSpaceBetween(field)} does not exist`;\n            break;\n          default:\n            labelContent = '';\n            break;\n        }\n      });\n      result = false;\n    }\n\n    labelSpan.textContent = labelContent;\n    return result;\n  }\n\n  filterCustomers() {\n    this.matchingCustomers = this.customers.filter(customer => customer.name.indexOf(this.formGroup.get('customer').value) > -1);\n  }\n\n  customerExists() {\n    const control = this.formGroup.get('customer');\n    if (!control.errors && control.value) {\n      if (!this.customers.find(customer => customer.name === control.value)) {\n        if (control.errors) {\n          control.errors.notUnique = {notExists: true};\n        } else {\n          control.setErrors({notExists: true});\n        }\n      } else {\n        if (control.errors) {\n          delete control.errors.notExists;\n        }\n      }\n\n      this.validateFormControl('customer');\n    }\n  }\n\n  submit() {\n    if (this.validate()) {\n      const loan: Loan = {\n        type: this.formGroup.get('type').value,\n        tenure: this.formGroup.get('tenure').value,\n        amount: this.formGroup.get('amount').value,\n        customer: this.formGroup.get('customer').value,\n        loanProduct: this.loanProducts.find(loanProduct => loanProduct.id === Number.parseInt(this.formGroup.get('loanProduct').value, 10)),\n        securityTypes: this.formGroup.get('securityTypes').value\n      };\n\n      if (this.loan) {\n        loan.id = this.loan.id;\n        loan.role = this.loan.role;\n        loan.stagedAt = this.loan.stagedAt;\n        loan.receiveTimestamp = this.loan.receiveTimestamp;\n        loan.deferStage = this.loan.deferStage;\n        loan.typeChanged = this.loan.typeChanged;\n        loan.status = this.loan.status;\n        loan.comment = this.loan.comment;\n      } else {\n        loan.status = 'Created';\n        loan.comment = 'Loan created';\n      }\n\n      const observable: Observable<Loan> = this.loanService.save(loan);\n\n      observable\n        .subscribe((data: Loan) => {\n          this.router.navigate(['/dashboard']);\n        }, () => {\n          alert('Error while saving loan product');\n        });\n    }\n  }\n\n}\n","<div class=\"border border-secondary m-3 p-3 bg-white rounded\" style=\"position: relative; z-index: 2;\">\n  <div class=\"py-2\">\n    <label class=\"rounded col-lg-2 col-md-3 col-sm-6 col py-2 page-heading d-flex align-items-center justify-content-center\">\n      <i class=\"material-icons\">person</i>&nbsp;Loan Form</label>\n  </div>\n  <hr>\n  <div class=\"py-2\">\n    <form action=\"/loan\" method=\"post\" class=\"form-horizontal form-with-image\" [formGroup]=\"formGroup\" (ngSubmit)=\"submit()\">\n      <fieldset class=\"border border-yellow rounded\">\n        <legend class=\"d-block w-auto ml-3 text-dark-blue\">Form</legend>\n\n        <div class=\"row px-4\">\n          <div class=\"responsive-form-group w-100 justify-content-center\">\n            <div class=\"col-lg-4 col-md-5 col-12\">\n              <div class=\"form-group\">\n                <label for=\"type\">Loan Type</label>\n                <select class=\"item_text3 form-control\" id=\"type\" formControlName=\"type\" (change)=\"validate()\">\n                  <option value=\"\" disabled selected>Chose loan group</option>\n                  <option value=\"Group Loans\">Group Loans</option>\n                  <option value=\"MSE\">MSE</option>\n                </select>\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-4 col-md-5 col-12\"></div>\n          </div>\n        </div>\n        <div class=\"row px-4\">\n          <div class=\"responsive-form-group w-100 justify-content-center\">\n            <div class=\"col-lg-4 col-md-5 col-12\">\n              <div class=\"form-group\">\n                <label for=\"amount\">Amount</label>\n                <input type=\"number\" id=\"amount\" class=\"form-control\" placeholder=\"Amount\" formControlName=\"amount\" (input)=\"validate()\">\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-4 col-md-5 col-12\">\n              <div class=\"form-group\">\n                <label for=\"tenure\">Tenure</label>\n                <input type=\"number\" id=\"tenure\" class=\"form-control\" placeholder=\"Tenure\" formControlName=\"tenure\" (input)=\"validate()\">\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row px-4\">\n          <div class=\"responsive-form-group w-100 justify-content-center\">\n            <ng-container *ngIf=\"customers\">\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group dropdown\">\n                  <label for=\"customer\">Customer</label>\n                  <input\n                    type=\"text\"\n                    class=\"dropdown-toggle form-control\"\n                    id=\"customer\"\n                    placeholder=\"Customer\"\n                    data-toggle=\"dropdown\"\n                    aria-haspopup=\"true\"\n                    aria-expanded=\"false\"\n                    autocomplete=\"off\"\n                    formControlName=\"customer\"\n                    (input)=\"filterCustomers()\"\n                    (blur)=\"customerExists()\">\n                  <div class=\"feedback text-danger\">\n                  </div>\n                  <ul class=\"dropdown-menu\" aria-labelledby=\"customer\" id=\"customersList\" *ngIf=\"matchingCustomers\">\n                    <li class=\"dropdown-item\" *ngFor=\"let customer of matchingCustomers\" [id]=\"customer.id\" (click)=\"setCustomer(customer.name)\">{{ customer.name }}</li>\n                  </ul>\n                </div>\n              </div>\n            </ng-container>\n            <ng-container *ngIf=\"loanProducts\">\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"loanProduct\">Product</label>\n                  <select class=\"item_text3 form-control\" id=\"loanProduct\" formControlName=\"loanProduct\" (change)=\"validate()\">\n                    <option value=\"\" disabled selected>Chose loan type</option>\n                    <option *ngFor=\"let loanProduct of loanProducts\" [value]=\"loanProduct.id\">{{ loanProduct.loanProduct }}</option>\n                  </select>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n            </ng-container>\n          </div>\n        </div>\n        <div class=\"row px-4\">\n          <div class=\"responsive-form-group w-100 justify-content-center\">\n            <div class=\"col-lg-4 col-md-5 col-12\">\n              <div class=\"form-group\">\n                <label for=\"securityTypes\">Type Of Security</label>\n                <select multiple id=\"securityTypes\" name=\"securityTypes\" class=\"form-control\" formControlName=\"securityTypes\">\n                  <option value=\"Household chattels\" selected>Household chattels</option>\n                  <option value=\"Motor vehicle\">Motor vehicle</option>\n                  <option value=\"Land sale agreement\">Land sale agreement</option>\n                  <option value=\"Land title\">Land title</option>\n                  <option value=\"Equipment\">Equipment</option>\n                  <option value=\"Cash\">Cash</option>\n                  <option value=\"Salary\">Salary</option>\n                  <option value=\"Group guarantee\">Group guarantee</option>\n                  <option value=\"Unsecure\">Unsecure</option>\n                </select>\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-4 col-md-5 col-12\"></div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"d-flex flex-row pt-2 pb-4 justify-content-end\">\n          <a routerLink=\"/dashboard\"\n             class=\"no-decoration btn btn-secondary submit-button d-flex col-2 align-items-center justify-content-center mr-4\">\n            <i class=\"material-icons\">arrow_back</i>&nbsp;Back\n          </a>\n          <button type=\"submit\"\n                  class=\"btn btn-primary submit-button d-flex col-2 justify-content-center mr-4\" [disabled]=\"!formGroup.valid\">Save\n          </button>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</div>\n","import {ChangeDetectorRef, Component, OnInit} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {User} from '../model/user';\nimport {FormControl, FormGroup, Validators} from '@angular/forms';\nimport {UserService} from '../core/services/user.service';\nimport {Router} from '@angular/router';\nimport {ServerResp} from \"../model/server-resp\";\n\nconst toSpaceBetween = (s: string): string => {\n  return s.replace(\n    /[A-Z]/g,\n    (c: string) => ` ${c.toLowerCase()}`\n  );\n};\n\n@Component({\n  selector: 'loanlead-edit-profile',\n  templateUrl: './edit-profile.component.html',\n  styleUrls: ['./edit-profile.component.scss']\n})\nexport class EditProfileComponent implements OnInit {\n  file = null;\n\n  user: User;\n  formGroup: FormGroup = new FormGroup({\n    employeeId: new FormControl('', Validators.required),\n    password: new FormControl('', Validators.required),\n    fullName: new FormControl('', Validators.required),\n    email: new FormControl('', [Validators.required, Validators.email]),\n    phoneNumber: new FormControl('', [Validators.required, Validators.pattern('07[0-9]{8}')]),\n    optionalPhoneNumber: new FormControl('', Validators.pattern('07[0-9]{8}')),\n  });\n\n  constructor(\n    private userService: UserService,\n    private cd: ChangeDetectorRef,\n    private router: Router\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.userService.getCurrentUser().subscribe((user: User) => {\n      this.user = user;\n      this.formGroup.patchValue({\n        employeeId: user.employeeId,\n        password: user.password,\n        fullName: user.fullName,\n        email: user.email,\n        phoneNumber: user.phoneNumber,\n        optionalPhoneNumber: user.optionalPhoneNumber\n      });\n    });\n  }\n\n  validate(): boolean {\n    let result = true;\n    const controls = this.formGroup.controls;\n\n    Object.keys(controls).forEach((controlName) => {\n      result = this.validateFormControl(controlName);\n    });\n\n    return result;\n  }\n\n  validateFormControl(controlName: string): boolean {\n    let result = true;\n    const control = this.formGroup.get(controlName);\n    const input = document.getElementById(controlName);\n    const labelSpan = document\n      .querySelector(`#${controlName} + .feedback`);\n\n    input.classList[control.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (control.errors) {\n      result = false;\n\n      Object.keys(control.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'notUnique':\n            textContent = `This ${toSpaceBetween(controlName)} already exists`;\n            break;\n          case 'pattern':\n            textContent = `Invalid ${toSpaceBetween(controlName)} format`;\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n\n    labelSpan.textContent = textContent;\n\n    return result;\n  }\n\n  isUnique(fieldType: string): boolean {\n    let result = true;\n    const control = this.formGroup.get(fieldType);\n\n    if (!control.errors && control.value) {\n      this.userService.getUserByField(fieldType, control.value)\n        .subscribe((data: User) => {\n          if (data != null && data.id !== this.user.id) {\n            if (control.errors) {\n              control.errors.notUnique = {notUnique: true};\n            } else {\n              control.setErrors({notUnique: true});\n            }\n          } else {\n            if (control.errors) {\n              delete control.errors.notUnique;\n            }\n          }\n\n          result = this.validateFormControl(fieldType);\n        });\n    }\n\n    return result;\n  }\n\n  submit() {\n    if (this.validate()) {\n      const formData = new FormData();\n      formData.append('file', this.file);\n      formData.append('id', this.user.id.toString());\n      formData.append('employeeId', this.formGroup.get('employeeId').value);\n      formData.append('password', this.formGroup.get('password').value);\n      formData.append('fullName', this.formGroup.get('fullName').value);\n      formData.append('email', this.formGroup.get('email').value);\n      formData.append('status', this.user.status);\n      formData.append('phoneNumber', this.formGroup.get('phoneNumber').value);\n      formData.append('optionalPhoneNumber', this.formGroup.get('optionalPhoneNumber').value);\n      this.user.roles.forEach(role => formData.append('roles', role));\n      this.user.branches.forEach(branch => formData.append('branches', branch));\n\n      if (!this.file) {\n        formData.append('picturePath', this.user.picturePath);\n      }\n\n      this.userService.save(formData)\n        .subscribe((data: ServerResp<User>) => {\n          if (!data.err) {\n            this.router.navigate(['/home']);\n          } else {\n            alert('Error while saving user');\n          }\n        });\n    }\n  }\n\n  onFileChange(event) {\n    if (event.target.files && event.target.files.length) {\n      this.file = event.target.files[0];\n    }\n  }\n\n}\n","<ng-container *ngIf=\"user\">\n  <loanlead-navigation></loanlead-navigation>\n\n  <div class=\"border border-secondary m-3 p-3 bg-white rounded\" style=\"position: relative; z-index: 2;\">\n    <div class=\"py-2\">\n      <label class=\"rounded col-lg-2 col-md-3 col-sm-6 col py-2 page-heading d-flex align-items-center justify-content-center\">\n        <em class=\"material-icons\">person</em>&nbsp;Edit profile</label>\n    </div>\n    <hr>\n    <div class=\"py-2\">\n      <form action=\"/users\" method=\"POST\" class=\"form-horizontal form-with-image\" enctype=\"multipart/form-data\" [formGroup]=\"formGroup\" (ngSubmit)=\"submit()\">\n        <fieldset class=\"border border-yellow rounded\">\n          <legend class=\"d-block w-auto ml-3 text-dark-blue\">Form</legend>\n\n          <div class=\"row px-4 justify-content-center\">\n            <div class=\"col-lg-3 col-md-4 col-12 d-flex justify-content-center p-3\">\n              <label for=\"picture\" class=\"image-input rounded-circle\"><img [src]=\"user.picturePath\" class=\"rounded-circle\"></label>\n              <input type=\"file\" name=\"file\" id=\"picture\" hidden (change)=\"onFileChange($event)\">\n            </div>\n            <div class=\"col-lg-5 col-md-6 col-12 d-flex justify-content-center flex-column\">\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"employeeId\">Employee ID</label>\n                  <input id=\"employeeId\"\n                         class=\"form-control\"\n                         type=\"text\"\n                         placeholder=\"Employee Id\"\n                         formControlName=\"employeeId\"\n                         (input)=\"validate()\"\n                         (blur)=\"isUnique('employeeId')\"\n                         required>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-group pl-3\">\n                <label for=\"password\">Password</label>\n                <input tabindex=\"0\" type=\"password\"\n                       id=\"password\"\n                       class=\"form-control\"\n                       placeholder=\"Password\"\n                       formControlName=\"password\"\n                       (input)=\"validate()\"\n                       data-toggle=\"popover\">\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row px-4\">\n            <div class=\"responsive-form-group w-100 justify-content-center\">\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"fullName\">Full name</label>\n                  <input id=\"fullName\"\n                         class=\"form-control\"\n                         type=\"text\"\n                         placeholder=\"Full name\"\n                         formControlName=\"fullName\"\n                         (input)=\"validate()\"\n                         required>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"email\">Email</label>\n                  <input id=\"email\"\n                         class=\"form-control\"\n                         type=\"email\"\n                         placeholder=\"Email\"\n                         formControlName=\"email\"\n                         (input)=\"validate()\"\n                         (blur)=\"isUnique('email')\"\n                         required>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row px-4\">\n            <div class=\"responsive-form-group w-100 justify-content-center\">\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"phoneNumber\">Phone Number</label>\n                  <input id=\"phoneNumber\"\n                         class=\"form-control\"\n                         type=\"text\"\n                         placeholder=\"Phone Number\"\n                         formControlName=\"phoneNumber\"\n                         (input)=\"validate()\"\n                         (blur)=\"isUnique('phoneNumber')\"\n                         required>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"optionalPhoneNumber\">Optional Phone Number</label>\n                  <input id=\"optionalPhoneNumber\"\n                         class=\"form-control\"\n                         type=\"text\"\n                         placeholder=\"Phone Number\"\n                         formControlName=\"optionalPhoneNumber\"\n                         (input)=\"validate()\"\n                         (blur)=\"isUnique('optionalPhoneNumber')\">\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <hr>\n          <div class=\"d-flex flex-row pt-2 pb-4 justify-content-end\">\n            <a routerLink=\"/home\"\n               class=\"no-decoration btn btn-secondary submit-button d-flex col-2 align-items-center justify-content-center mr-4\">\n              <i class=\"material-icons\">arrow_back</i>&nbsp;Back\n            </a>\n            <button type=\"submit\"\n                    class=\"btn btn-primary submit-button d-flex col-2 justify-content-center mr-4\" [disabled]=\"!formGroup.valid\">Save\n            </button>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {NavigationModule} from '../ui/navigation/navigation.module';\nimport {PaginationModule} from '../common/pagination/pagination.module';\nimport {RouterModule} from '@angular/router';\nimport {EditProfileComponent} from './edit-profile.component';\n\n@NgModule({\n  declarations: [EditProfileComponent],\n  imports: [\n    ReactiveFormsModule,\n    NavigationModule,\n    CommonModule,\n    PaginationModule,\n    RouterModule\n  ]\n})\nexport class EditProfileModule { }\n","import {Component, OnInit} from '@angular/core';\nimport {Entity} from \"../model/entity\";\nimport {Observable} from \"rxjs\";\nimport {EntityService} from \"../core/services/entity.service\";\nimport {FormControl, Validators} from \"@angular/forms\";\nimport {Router} from \"@angular/router\";\nimport {ServerResp} from \"../model/server-resp\";\nimport {NgxSpinnerService} from \"ngx-spinner\";\n\n@Component({\n  selector: 'loanlead-entities',\n  templateUrl: './entities.component.html',\n  styleUrls: ['./entities.component.scss']\n})\nexport class EntitiesComponent implements OnInit {\n  searchValue: FormControl = new FormControl('');\n  itemsCount: FormControl = new FormControl(\n    5,\n    [\n      Validators.required,\n      Validators.min(5),\n      Validators.max(20),\n    ]);\n\n  entitiesCount$: Observable<number>;\n  entities$: Observable<Entity[]>;\n  countChanged: boolean;\n  selectAll: boolean;\n  anySelected: boolean;\n  entitiesToDelete: number[];\n\n  constructor(private entityService: EntityService, private router: Router, private spinner: NgxSpinnerService) {\n  }\n\n  ngOnInit(): void {\n    this.spinner.show();\n    this.load(1);\n    this.entitiesCount$ = this.entityService.getEntitiesCount();\n    this.selectAll = false;\n    this.entitiesToDelete = [];\n  }\n\n  check(id?: number): void {\n    if (id) {\n      if (this.entitiesToDelete.includes(id)) {\n        this.entitiesToDelete.splice(this.entitiesToDelete.indexOf(id), 1);\n      } else {\n        this.entitiesToDelete.push(id);\n      }\n    }\n    this.anySelected = this.entitiesToDelete.length > 0;\n  }\n\n  load(page: number) {\n    this.entities$ = this.entityService.getEntities(page - 1, this.itemsCount.value).pipe(entities => {\n      this.spinner.hide();\n      return entities;\n    });\n  }\n\n  validate() {\n    const input = document.getElementById('itemsCount');\n    const labelSpan = document.querySelector('#itemsCount + .feedback');\n\n    input.classList[this.itemsCount.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (this.itemsCount.errors) {\n      Object.keys(this.itemsCount.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'min':\n            textContent = 'Please, enter higher number';\n            break;\n          case 'max':\n            textContent = 'Please, enter lower number';\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n    labelSpan.textContent = textContent;\n    this.countChanged = true;\n  }\n\n  filter() {\n    if (!this.itemsCount.errors && this.countChanged) {\n      const page = 1;\n      this.load(page);\n      this.countChanged = false;\n    }\n  }\n\n  pagesCount(entitiesCount: number) {\n    let result = entitiesCount / this.itemsCount.value;\n    return Math.round(result) < result ? Math.round(result) + 1 : Math.round(result);\n  }\n\n  selectAllTrigger(entities: Entity[]) {\n    this.selectAll = !this.selectAll;\n    if (this.selectAll) {\n      this.entitiesToDelete = entities.map(entity => entity.id);\n    } else {\n      this.entitiesToDelete = [];\n    }\n    this.anySelected = this.selectAll;\n  }\n\n  format(date: Date) {\n    return ((date.getDate() < 10) ? '0' + date.getDate() : date.getDate()) +\n      \"/\" + ((date.getMonth() < 10) ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)) +\n      \"/\" + date.getFullYear() +\n      \" \" + ((date.getHours() < 10) ? '0' + date.getHours() : date.getHours()) +\n      \":\" + ((date.getMinutes() < 10) ? '0' + date.getMinutes() : date.getMinutes()) +\n      \":\" + ((date.getSeconds() < 10) ? '0' + date.getSeconds() : date.getSeconds());\n  }\n\n  dateInstance(date: string) {\n    return new Date(date);\n  }\n\n  delete() {\n    this.entityService.deleteEntities(this.entitiesToDelete).subscribe((data: ServerResp<any>) => {\n      if (data.err) {\n        alert(`Request error with code ${data.err.status}`);\n      } else {\n        this.load(1);\n        this.entitiesCount$ = this.entityService.getEntitiesCount();\n      }\n    })\n  }\n}\n","<ngx-spinner bgColor=\"#FFFFFF\" size=\"medium\" color=\"#2129BF\" type=\"ball-clip-rotate\">\n  <p class=\"text-light\" style=\"font-size: 20px;\">Loading...</p>\n</ngx-spinner>\n\n<loanlead-navigation></loanlead-navigation>\n<ng-container *ngIf=\"entities$ | async as entities\">\n  <div *ngIf=\"entities.length\" class=\"border border-secondary m-3 p-3 bg-white rounded animated fadeIn\">\n    <div class=\"py-2 page-body-heading justify-content-between\">\n      <label class=\"rounded col-lg-2 col-md-3 col-12 py-2 page-heading d-flex align-items-center justify-content-center\"><i class=\"material-icons\">group</i>&nbsp;Entities</label>\n\n      <div class=\"col-md-3 col-12\">\n        <div class=\"form-group\">\n          <label for=\"itemsCount\">Items Count</label>\n          <input id=\"itemsCount\"\n                 type=\"number\"\n                 placeholder=\"Search\"\n                 data-placeholder=\"Search\"\n                 class=\"form-control\"\n                 [formControl]=\"itemsCount\"\n                 (input)=\"validate()\"\n                 (blur)=\"filter()\"\n                 required>\n          <div class=\"feedback text-danger\"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"py-2 d-flex justify-content-end\">\n      <a routerLink=\"../entity_form\" class=\"btn btn-primary d-flex align-items-center col-lg-2 col-md-3 col-sm-4 col-12 justify-content-center py-2\"><i class=\"material-icons\">add</i>&nbsp;Create new entity</a>\n    </div>\n    <div class=\"py-2\" style=\"overflow-x: auto;\">\n      <table id=\"contentTable\" class=\"table table-striped table-hover table-bordered table-condensed\" style=\"min-width: 1595px;\">\n        <thead>\n        <tr>\n          <th>ID</th>\n          <th>Name</th>\n          <th>Short name</th>\n          <th>Box number</th>\n          <th>Plot number</th>\n          <th>Branches number</th>\n          <th>Description</th>\n          <th>Created at</th>\n          <th>Edit</th>\n          <th><input type=\"checkbox\" id=\"select-all\" (click)=\"selectAllTrigger(entities)\"/></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr [id]=\"[entity.id]\" *ngFor=\"let entity of entities\">\n          <td>{{ entity.id }}</td>\n          <td>{{ entity.name }}</td>\n          <td>{{ entity.shortName}}</td>\n          <td>{{ entity.boxNumber}}</td>\n          <td>{{ entity.plotNumber }}</td>\n          <td>{{ entity.branchesNumber}}</td>\n          <td>{{ entity.description }}</td>\n          <td>{{ format(dateInstance(entity.createdAt)) }}</td>\n          <td><a [routerLink]=\"['/entity_form/' + entity.id]\">Edit</a></td>\n          <td><input type=\"checkbox\" [checked]=\"selectAll\" (click)=\"check(entity.id)\"></td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"py-2\">\n      <button type=\"button\" id=\"deleteButton\" class=\"btn btn-primary\" [disabled]=\"!anySelected\" (click)=\"delete()\">Delete entities</button>\n    </div>\n  </div>\n  <div class=\"empty-list\" *ngIf=\"!entities.length\">\n    No entities was found.\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"entitiesCount$ | async as entitiesCount\">\n  <app-pagination *ngIf=\"entitiesCount > itemsCount.value\"\n                  [lastPage]=\"pagesCount(entitiesCount)\"\n                  (pageChanged)=\"load($event)\">\n  </app-pagination>\n</ng-container>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from \"@angular/common\";\nimport {ReactiveFormsModule} from \"@angular/forms\";\nimport {EntitiesComponent} from \"./entities.component\";\nimport {NavigationModule} from \"../ui/navigation/navigation.module\";\nimport {PaginationModule} from \"../common/pagination/pagination.module\";\nimport {RouterModule} from \"@angular/router\";\nimport {EntityFormComponent} from \"./entity-form/entity-form.component\";\nimport {NgxSpinnerModule} from \"ngx-spinner\";\n\n@NgModule({\n  declarations: [EntitiesComponent, EntityFormComponent],\n    imports: [\n        ReactiveFormsModule,\n        NavigationModule,\n        CommonModule,\n        PaginationModule,\n        RouterModule,\n        NgxSpinnerModule\n    ],\n})\nexport class EntitiesModule {\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {Entity} from \"../../model/entity\";\nimport {ActivatedRoute, ParamMap, Router} from \"@angular/router\";\nimport {EntityService} from \"../../core/services/entity.service\";\nimport {Observable} from \"rxjs\";\nimport {LoanProduct} from \"../../model/loan-product\";\n\nconst toSpaceBetween = (s: string): string => {\n  return s.replace(\n    /[A-Z]/g,\n    (c: string) => ` ${c.toLowerCase()}`\n  );\n};\n\n@Component({\n  selector: 'loanlead-entity-form',\n  templateUrl: './entity-form.component.html',\n  styleUrls: ['./entity-form.component.scss']\n})\nexport class EntityFormComponent implements OnInit {\n  entityId: number;\n  entity: Entity;\n  formGroup: FormGroup;\n\n  constructor(\n    private router: Router,\n    private entityService: EntityService,\n    private fb: FormBuilder,\n    private activatedRoute: ActivatedRoute\n  ) { }\n\n  ngOnInit(): void {\n    this.formGroup = this.fb.group({\n      name: [''],\n      shortName: [''],\n      boxNumber: [''],\n      plotNumber: [''],\n      branchesNumber: [''],\n      description: [''],\n    }, {\n      validators: Validators.required\n    });\n\n    this.activatedRoute.paramMap\n      .subscribe((paramMap: ParamMap) => {\n        this.entityId = Number.parseInt(paramMap.get('entityId'));\n\n        if (this.entityId) {\n          this.entityService.getEntity(this.entityId)\n            .subscribe((entity: Entity) => {\n              if (entity != null) {\n                this.entity = entity;\n                this.formGroup.patchValue({\n                  name:  entity.name,\n                  shortName:  entity.shortName,\n                  boxNumber:  entity.boxNumber,\n                  plotNumber:  entity.plotNumber,\n                  branchesNumber:  entity.branchesNumber,\n                  description:  entity.description,\n                });\n              }\n            });\n        }\n      });\n  }\n\n  validate(): boolean {\n    let result = true;\n    const controls = this.formGroup.controls;\n\n    if (controls.branchesNumber.value) {\n      controls.branchesNumber.setValue(\n        controls.branchesNumber.value.toString()\n          .replace(/[^0-9]/g, '')\n      );\n    }\n\n    Object.keys(controls).forEach((controlName) => {\n      result = this.validateFormControl(controlName);\n    });\n\n    return result;\n  }\n\n  validateFormControl(controlName: string): boolean {\n    let result = true;\n    const control = this.formGroup.get(controlName);\n    const input = document.getElementById(controlName);\n    const labelSpan = document\n      .querySelector(`#${controlName} + .feedback`);\n\n    input.classList[control.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (control.errors) {\n      result = false;\n\n      Object.keys(control.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'notUnique':\n            textContent = `This ${toSpaceBetween(controlName)} already exists`;\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n\n    labelSpan.textContent = textContent;\n\n    return result;\n  }\n\n  isUnique(fieldType: string): boolean {\n    let result = true;\n    const control = this.formGroup.get(fieldType);\n    const form = document.querySelector('form');\n\n    if (!control.errors && control.value) {\n      this.entityService.getEntityByField(fieldType, control.value)\n        .subscribe((data: Entity) => {\n          if (data != null && (!this.entityId || data.id != this.entity.id)) {\n            if (control.errors) {\n              control.errors.notUnique = {notUnique: true};\n            } else {\n              control.setErrors({notUnique: true});\n            }\n          } else {\n            if (control.errors) {\n              delete control.errors.notUnique;\n            }\n          }\n\n          result = this.validateFormControl(fieldType);\n        });\n    }\n\n    return result;\n  }\n\n  submit() {\n    const form = document.querySelector('form');\n\n    if (!form.classList.contains('validated')) {\n      form.classList.add('validated');\n      this.isUnique('name');\n    }\n\n    if (this.validate()) {\n      const entity: Entity = {\n        name: this.formGroup.get('name').value,\n        shortName: this.formGroup.get('shortName').value,\n        boxNumber: this.formGroup.get('boxNumber').value,\n        plotNumber: this.formGroup.get('plotNumber').value,\n        branchesNumber: this.formGroup.get('branchesNumber').value,\n        description: this.formGroup.get('description').value,\n      };\n\n      if (this.entity) {\n        entity.id = this.entity.id;\n        entity.createdAt = this.entity.createdAt;\n      }\n\n      const observable: Observable<Entity> = this.entityService.save(entity);\n\n      observable\n        .subscribe((data: Entity) => {\n          this.router.navigate(['/entities']);\n        }, () => {\n          alert(\"Error while saving entity\");\n        });\n    }\n  }\n\n}\n","<loanlead-navigation></loanlead-navigation>\n<div class=\"border border-secondary m-3 p-3 bg-white rounded\" style=\"position: relative; z-index: 2;\">\n  <div class=\"py-2\">\n    <label class=\"rounded col-lg-2 col-md-3 col-sm-6 col py-2 page-heading d-flex align-items-center justify-content-center\">\n      <i class=\"material-icons\">person</i>&nbsp;Entity Form</label>\n  </div>\n  <hr>\n  <div class=\"py-2\">\n    <form action=\"/entities\" method=\"POST\" class=\"form-horizontal form-with-image\" [formGroup]=\"formGroup\" (ngSubmit)=\"submit()\">\n      <fieldset class=\"border border-yellow rounded\">\n        <legend class=\"d-block w-auto ml-3 text-dark-blue\">Form</legend>\n\n        <div class=\"row px-4 justify-content-center\">\n          <div class=\"col-lg-5 col-md-6 col-12 d-flex justify-content-center flex-column\">\n            <div class=\"form-group pl-3\">\n              <label for=\"name\">Name</label>\n              <input id=\"name\"\n                     class=\"form-control\"\n                     type=\"text\"\n                     placeholder=\"Name\"\n                     formControlName=\"name\"\n                    autocomplete=\"off\"\n                     (input)=\"validate()\"\n                     (blur)=\"isUnique('name')\"\n                    required>\n              <div class=\"feedback text-danger\">\n\n              </div>\n            </div>\n            <div class=\"form-group pl-3\">\n              <label for=\"shortName\">Short Name</label>\n              <input id=\"shortName\"\n                     class=\"form-control\"\n                     type=\"text\"\n                     placeholder=\"Short Name\"\n                     formControlName=\"shortName\"\n                     autocomplete=\"off\"\n                     (input)=\"validate()\"\n                     required>\n              <div class=\"feedback text-danger\">\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row px-4\">\n          <div class=\"responsive-form-group w-100 justify-content-center\">\n            <div class=\"col-lg-4 col-md-5 col-12\">\n              <div class=\"form-group\">\n                <label for=\"boxNumber\">Box Number</label>\n                <input id=\"boxNumber\"\n                       class=\"form-control\"\n                       type=\"text\"\n                       placeholder=\"Box Number\"\n                       formControlName=\"boxNumber\"\n                       autocomplete=\"off\"\n                       (input)=\"validate()\"\n                       required>\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-4 col-md-5 col-12\">\n              <div class=\"form-group\">\n                <label for=\"plotNumber\">Plot Number</label>\n                <input id=\"plotNumber\"\n                       class=\"form-control\"\n                       type=\"text\"\n                       placeholder=\"Plot Number\"\n                       formControlName=\"plotNumber\"\n                       autocomplete=\"off\"\n                       (input)=\"validate()\"\n                       required>\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row px-4\">\n          <div class=\"responsive-form-group w-100 justify-content-center\">\n            <div class=\"col-lg-4 col-md-5 col-12\">\n              <div class=\"form-group\">\n                <label for=\"branchesNumber\">Branches Number</label>\n                <input id=\"branchesNumber\"\n                       class=\"form-control\"\n                       type=\"text\"\n                       placeholder=\"Branches Number\"\n                       formControlName=\"branchesNumber\"\n                       autocomplete=\"off\"\n                       (input)=\"validate()\"\n                       required>\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-4 col-md-5 col-12\"></div>\n          </div>\n        </div>\n        <div class=\"row px-4\">\n          <div class=\"responsive-form-group w-100 justify-content-center\">\n            <div class=\"responsive-form-group w-100 justify-content-center\">\n              <div class=\"col-12\">\n                <div class=\"form-group\">\n                  <label for=\"description\">Description</label>\n                  <textarea class=\"form-control\" id=\"description\" rows=\"4\" placeholder=\"Description\" formControlName=\"description\"></textarea>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"d-flex flex-row pt-2 pb-4 justify-content-end\">\n          <a routerLink=\"/entities\"\n             class=\"no-decoration btn btn-secondary submit-button d-flex col-2 align-items-center justify-content-center mr-4\">\n            <i class=\"material-icons\">arrow_back</i>&nbsp;Back\n          </a>\n          <button type=\"submit\"\n                  class=\"btn btn-primary submit-button d-flex col-2 justify-content-center mr-4\" [disabled]=\"!formGroup.valid\">Save\n          </button>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {Loan} from '../model/loan';\nimport {Observable} from 'rxjs';\nimport {LoanService} from '../core/services/loan.service';\nimport {FormControl, Validators} from '@angular/forms';\nimport {LoanCounts} from '../model/ui/components/loan-counts';\nimport {Router} from '@angular/router';\nimport * as $ from 'jquery';\nimport {UserService} from '../core/services/user.service';\nimport {NgxSpinnerService} from \"ngx-spinner\";\n\n@Component({\n  selector: 'loanlead-user-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n  itemsCount: FormControl = new FormControl(\n    5,\n    [\n      Validators.required,\n      Validators.min(1)\n    ]);\n\n  loansCount$: Observable<number>;\n  loans$: Observable<Loan[]>;\n  loanCounts$: Observable<LoanCounts>;\n  userBranches: string[];\n  countChanged: boolean;\n\n  constructor(private loanService: LoanService, private router: Router, private userService: UserService, private spinner: NgxSpinnerService) {\n  }\n\n  ngOnInit(): void {\n    this.spinner.show();\n    this.loans$ = this.loanService.getMainPageLoans(0, 5).pipe(loans => {\n      this.spinner.hide();\n      return loans;\n    });\n\n    this.loansCount$ = this.loanService.getMainPageLoansCount();\n    this.loanCounts$ = this.loanService.getMainLoansCount();\n  }\n\n  load(page: number) {\n    this.loans$ = this.loanService.getMainPageLoans(page - 1, this.itemsCount.value);\n  }\n\n  validate() {\n    const input = document.getElementById('itemsCount');\n    const labelSpan = document.querySelector('#itemsCount + .feedback');\n\n    input.classList[this.itemsCount.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (this.itemsCount.errors) {\n      Object.keys(this.itemsCount.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'min':\n            textContent = 'Please, enter higher number';\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n    labelSpan.textContent = textContent;\n    this.countChanged = true;\n  }\n\n  filter() {\n    if (!this.itemsCount.errors && this.countChanged) {\n      const page = 1;\n      this.load(page);\n      this.countChanged = false;\n    }\n  }\n\n  pagesCount(loansCount: number) {\n    const result = loansCount / this.itemsCount.value;\n    return Math.round(result) < result ? Math.round(result) + 1 : Math.round(result);\n  }\n\n  getTrColorClass(loan: Loan): string {\n    if (this.difference(this.dateNow(), this.dateInstance(loan.createdAt).getTime()) > loan.loanProduct.timeThreshold) {\n      return 'bg-danger';\n    } else if (loan.status === 'Deferred') {\n      return 'bg-warning';\n    } else if (loan.role.id > 4) {\n      return 'bg-pink';\n    } else {\n      return 'bg-success';\n    }\n  }\n\n  getLinkClass(loan: Loan) {\n    if (['bg-danger', 'bg-pink', 'bg-success'].includes(this.getTrColorClass(loan))) {\n      return 'text-light';\n    } else {\n      return 'text-dark-blue';\n    }\n  }\n\n  format(date: Date) {\n    return ((date.getDate() < 10) ? '0' + date.getDate() : date.getDate()) +\n      '/' + ((date.getMonth() < 10) ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)) +\n      '/' + date.getFullYear() +\n      ' ' + ((date.getHours() < 10) ? '0' + date.getHours() : date.getHours()) +\n      ':' + ((date.getMinutes() < 10) ? '0' + date.getMinutes() : date.getMinutes()) +\n      ':' + ((date.getSeconds() < 10) ? '0' + date.getSeconds() : date.getSeconds());\n  }\n\n  difference(firstDate: number, lastDate: number): number {\n    const milliseconds = firstDate - lastDate;\n    return Math.floor(milliseconds / 1000 / 3600 / 24);\n  }\n\n  age(firstDate: number, lastDate: number): string {\n    const milliseconds = firstDate - lastDate;\n    const hours = Math.floor(milliseconds / 1000 / 3600);\n    const days = Math.floor(hours / 24);\n\n    return days + ' days ' + (hours - days * 24) + ' hours';\n  }\n\n  dateNow() {\n    return Date.now();\n  }\n\n  dateInstance(date: string) {\n    return new Date(date);\n  }\n\n  auditing(id: number) {\n    this.router.navigate(['/auditing', id]);\n  }\n\n  modifyAmount(amount: string): string {\n    return amount.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n\n  setUserBranches(branches: string[]) {\n    this.userBranches = branches;\n  }\n\n  filterLoans(event: Event) {\n    $('#contentTable tbody tr').filter(function () {\n      $(this).toggle($(this).text().toLowerCase().indexOf($(event.target).val().toLowerCase()) > -1);\n    });\n  }\n}\n","<ngx-spinner bgColor=\"#FFFFFF\" size=\"medium\" color=\"#2129BF\" type=\"ball-clip-rotate\">\n  <p class=\"text-light\" style=\"font-size: 20px;\">Loading...</p>\n</ngx-spinner>\n\n<loanlead-navigation></loanlead-navigation>\n<ng-container *ngIf=\"loans$ | async as loans\">\n  <div *ngIf=\"loans.length\" class=\"border border-secondary m-3 p-3 bg-white rounded animated fadeIn\">\n    <div class=\"py-2 page-body-heading justify-content-between\">\n      <label class=\"rounded col-lg-2 col-md-3 col-12 py-2 page-heading d-flex align-items-center justify-content-center\"><i class=\"material-icons\">group</i>&nbsp;Loans</label>\n\n      <div class=\"col-md-3 col-12\">\n        <div class=\"form-group\">\n          <label for=\"itemsCount\">Items Count</label>\n          <input id=\"itemsCount\"\n                 type=\"number\"\n                 placeholder=\"Search\"\n                 data-placeholder=\"Search\"\n                 class=\"form-control\"\n                 [formControl]=\"itemsCount\"\n                 (input)=\"validate()\"\n                 (blur)=\"filter()\"\n                 required>\n          <div class=\"feedback text-danger\"></div>\n        </div>\n      </div>\n      <div class=\"form-group col-lg-4 col-md-5 col-12 py-2 pr-0 pl-md-2 pl-0\">\n        <label for=\"filterInput\">Search</label>\n        <input type=\"text\" id=\"filterInput\" placeholder=\"Loan\" class=\"form-control w-100\" (input)=\"filterLoans($event)\">\n      </div>\n    </div>\n    <div class=\"py-2\" style=\"overflow-x: auto;\">\n      <table id=\"contentTable\" class=\"table table-striped table-hover table-bordered table-condensed\" style=\"min-width: 1595px;\">\n        <thead>\n        <tr>\n          <th>ID</th>\n          <th>Customer</th>\n          <th>Loan Type</th>\n          <th>Loan Product</th>\n          <th>Tenure</th>\n          <th>Amount</th>\n          <th>Stage</th>\n          <th>Status</th>\n          <th colspan=\"2\">Loan Moves</th>\n          <th>Stage at</th>\n          <th>Age at Stage</th>\n          <th>Created at</th>\n          <th>Total Age</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr (click)=\"auditing(loan.id)\" [id]=\"[loan.id]\" *ngFor=\"let loan of loans\" [ngClass]=\"getTrColorClass(loan)\">\n          <td><a href=\"javascript:void(0);\" [ngClass]=\"getLinkClass(loan)\">{{ loan.id }}</a></td>\n          <td><a href=\"javascript:void(0);\" [ngClass]=\"getLinkClass(loan)\">{{ loan.customer }}</a></td>\n          <td><a href=\"javascript:void(0);\" [ngClass]=\"getLinkClass(loan)\">{{ loan.type }}</a></td>\n          <td><a href=\"javascript:void(0);\" [ngClass]=\"getLinkClass(loan)\">{{ loan.loanProduct.loanProduct }}</a></td>\n          <td><a href=\"javascript:void(0);\" [ngClass]=\"getLinkClass(loan)\">{{ loan.tenure }}</a></td>\n          <td><a href=\"javascript:void(0);\" class=\"amount\" [ngClass]=\"getLinkClass(loan)\">{{ modifyAmount(loan.amount.toString()) }}</a></td>\n          <td><a href=\"javascript:void(0);\" class=\"stage\" [ngClass]=\"getLinkClass(loan)\" [id]=\"loan.role.id\">{{ loan.role.displayName }}</a></td>\n          <td><a href=\"javascript:void(0);\" class=\"status\" [ngClass]=\"getLinkClass(loan)\">{{ loan.status }}</a></td>\n          <td><a href=\"javascript:void(0);\" [ngClass]=\"getLinkClass(loan)\">{{ loan.user.fullName }}</a></td>\n          <td><a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#branchesTableModal\" (click)=\"setUserBranches(loan.user.branches)\">Branches</a></td>\n          <td><a href=\"javascript:void(0);\" class=\"stage-timestamp\" [ngClass]=\"getLinkClass(loan)\">{{ format(dateInstance(loan.stagedAt)) }}</a></td>\n          <td><a href=\"javascript:void(0);\" [ngClass]=\"getLinkClass(loan)\">{{ age(dateNow(), dateInstance(loan.stagedAt).getTime()) }}</a></td>\n          <td><a href=\"javascript:void(0);\" [ngClass]=\"getLinkClass(loan)\">{{ format(dateInstance(loan.createdAt)) }}</a></td>\n          <td><a href=\"javascript:void(0);\" [ngClass]=\"getLinkClass(loan)\">{{ age(dateNow(), dateInstance(loan.createdAt).getTime()) }}</a></td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  <div class=\"empty-list\" *ngIf=\"!loans.length\">\n    No loans was found.\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"loansCount$ | async as loansCount\">\n  <app-pagination *ngIf=\"loansCount > itemsCount.value\"\n                  [lastPage]=\"pagesCount(loansCount)\"\n                  (pageChanged)=\"load($event)\">\n  </app-pagination>\n</ng-container>\n\n<ng-container *ngIf=\"loanCounts$ | async as loanCounts\">\n  <div class=\"py-2\">\n    <h5 class=\"d-flex align-items-center\"><i class=\"material-icons\">trending_up</i>&nbsp;Statistics:</h5>\n    <div class=\"d-flex row justify-content-between\">\n      <ul class=\"text-dark-blue\">\n        <li>Running: <span id=\"runningCount\">{{ loanCounts.runningLoansCount }}</span></li>\n        <li>Approved: <span id=\"approvedCount\">{{ loanCounts.approvedLoansCount }}</span></li>\n        <li>Deferred: <span id=\"deferredCount\">{{ loanCounts.deferredLoansCount }}</span></li>\n        <li>Rejected: <span id=\"rejectedCount\">{{ loanCounts.rejectedLoansCount }}</span></li>\n        <li>Disbursed <span id=\"disbursedCount\">{{ loanCounts.disbursedLoansCount }}</span></li>\n      </ul>\n      <span class=\"font-weight-bold d-flex align-items-end px-3\">Designed And Built By Stat Solutions Research Network Ltd</span>\n    </div>\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"userBranches\">\n  <div class=\"modal fade bd-example-modal-lg\" tabindex=\"-1\" role=\"dialog\" id=\"branchesTableModal\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\">Roles</h4>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n        </div>\n        <div class=\"modal-body\" style=\"overflow-x: auto;\">\n          <ul *ngIf=\"userBranches.length\">\n            <li *ngFor=\"let branch of userBranches\">{{ branch }}</li>\n          </ul>\n          <div class=\"empty-list\" *ngIf=\"!userBranches.length\">\n            No loans was found.\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport {HomeComponent} from './home.component';\nimport {CommonModule} from '@angular/common';\nimport {NavigationModule} from '../ui/navigation/navigation.module';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {PaginationModule} from '../common/pagination/pagination.module';\nimport {NgxSpinnerModule} from \"ngx-spinner\";\n\n@NgModule({\n  declarations: [HomeComponent],\n    imports: [\n        ReactiveFormsModule,\n        NavigationModule,\n        CommonModule,\n        PaginationModule,\n        NgxSpinnerModule\n    ],\n})\nexport class HomeModule { }\n","import {Component, OnInit} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {LoanProduct} from '../../model/loan-product';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {LoanProductService} from '../../core/services/loan-product.service';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\n\nconst toSpaceBetween = (s: string): string => {\n  return s.replace(\n    /[A-Z]/g,\n    (c: string) => ` ${c.toLowerCase()}`\n  );\n};\n\n@Component({\n  selector: 'loanlead-loan-product-form',\n  templateUrl: './loan-product-form.component.html',\n  styleUrls: ['./loan-product-form.component.scss']\n})\nexport class LoanProductFormComponent implements OnInit {\n  loanProductId: number;\n  loanProduct: LoanProduct;\n  formGroup: FormGroup;\n\n  constructor(\n    private router: Router,\n    private fb: FormBuilder,\n    private loanProductService: LoanProductService,\n    private activatedRoute: ActivatedRoute\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.formGroup = this.fb.group({\n      loanProduct: [''],\n      maxAmount: [''],\n      maxTenure: [''],\n      timeThreshold: [''],\n    }, {\n      validators: Validators.required\n    });\n\n    this.activatedRoute.paramMap\n      .subscribe((paramMap: ParamMap) => {\n        this.loanProductId = Number.parseInt(paramMap.get('loanProductId'), 10);\n\n        if (this.loanProductId) {\n          this.loanProductService.getLoanProduct(this.loanProductId)\n            .subscribe((loanProduct: LoanProduct) => {\n              if (loanProduct != null) {\n                this.loanProduct = loanProduct;\n                this.formGroup.patchValue({\n                  loanProduct: loanProduct.loanProduct,\n                  maxAmount: loanProduct.maxAmount,\n                  maxTenure: loanProduct.maxTenure,\n                  timeThreshold: loanProduct.timeThreshold,\n                });\n              }\n            });\n        }\n      });\n  }\n\n  isUnique(fieldType: string): boolean {\n    let result = true;\n    const control = this.formGroup.get(fieldType);\n\n    if (!control.errors && control.value) {\n      this.loanProductService.getLoanProductByField(fieldType, control.value)\n        .subscribe((data: LoanProduct) => {\n          if (data != null && (!this.loanProductId || data.id !== this.loanProduct.id)) {\n            if (control.errors) {\n              control.errors.notUnique = {notUnique: true};\n            } else {\n              control.setErrors({notUnique: true});\n            }\n          } else {\n            if (control.errors) {\n              delete control.errors.notUnique;\n            }\n          }\n\n          result = this.validateFormControl(fieldType);\n        });\n    }\n\n    return result;\n  }\n\n  validate(): boolean {\n    let valid = true;\n    const controls = this.formGroup.controls;\n\n    Object.keys(controls).forEach((field) => {\n      valid = this.validateFormControl(field);\n    });\n\n    return valid;\n  }\n\n  validateFormControl(field: string) {\n    let result = true;\n    const control = this.formGroup.get(field);\n    const input = document.getElementById(field);\n    const labelSpan = document\n      .querySelector(`#${field} + .feedback`);\n\n    input.classList[control.errors ? 'add' : 'remove']('invalid');\n    let labelContent = '';\n\n    if (control.errors) {\n      Object.keys(control.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            labelContent = 'Please, enter this field';\n\n            break;\n          case 'email':\n            labelContent = 'Please, enter a valid email';\n\n            break;\n          case 'minlength':\n            labelContent = 'Please, enter more symbols';\n\n            break;\n          case 'maxlength':\n            labelContent = 'Please, enter less symbols';\n\n            break;\n          case 'notUnique':\n            labelContent = `This ${toSpaceBetween(field)} already exists`;\n\n            break;\n          case 'pattern':\n            if (!control.value.match(/[0-9]+/)) {\n              labelContent = 'Digits required';\n            } else if (!control.value.match(/[A-Z]+/)) {\n              labelContent = 'Uppercase characters required';\n            } else {\n              labelContent = 'Lowercase characters required';\n            }\n\n            break;\n          default:\n            labelContent = '';\n\n            break;\n        }\n      });\n      result = false;\n    }\n\n    labelSpan.textContent = labelContent;\n    return result;\n  }\n\n  submit() {\n    const form = document.querySelector('form');\n\n    if (!form.classList.contains('validated')) {\n      form.classList.add('validated');\n\n      this.isUnique('loanProduct');\n    }\n\n    if (this.validate()) {\n      const loanProduct: LoanProduct = {\n        loanProduct: this.formGroup.get('loanProduct').value,\n        maxAmount: this.formGroup.get('maxAmount').value,\n        maxTenure: this.formGroup.get('maxTenure').value,\n        timeThreshold: this.formGroup.get('timeThreshold').value\n      };\n\n      if (this.loanProduct) {\n        loanProduct.id = this.loanProduct.id;\n      }\n\n      const observable: Observable<LoanProduct> = this.loanProductService.save(loanProduct);\n\n      observable\n        .subscribe((data: LoanProduct) => {\n          this.router.navigate(['/loan_products']);\n        }, () => {\n          alert('Error while saving loan product');\n        });\n    }\n  }\n\n}\n","<loanlead-navigation></loanlead-navigation>\n<div class=\"border border-secondary m-3 p-3 bg-white rounded\" style=\"position: relative; z-index: 2;\">\n  <div class=\"py-2\">\n    <label\n      class=\"rounded col-lg-2 col-md-3 col-sm-6 col py-2 page-heading d-flex align-items-center justify-content-center\">\n      <i class=\"material-icons\">person</i>&nbsp;Loan Product Form</label>\n  </div>\n  <hr>\n  <div class=\"py-2\">\n    <form [formGroup]=\"formGroup\" action=\"/loan-products\" method=\"POST\" class=\"form-horizontal form-with-image\"\n          (ngSubmit)=\"submit()\">\n      <fieldset class=\"border border-yellow rounded\">\n        <legend class=\"d-block w-auto ml-3 text-dark-blue\">Form</legend>\n\n        <div class=\"row px-4 justify-content-center\">\n          <div class=\"col-lg-5 col-md-6 col-12 d-flex justify-content-center flex-column\">\n            <div class=\"form-group pl-3\">\n              <label for=\"loanProduct\">Loan Product</label>\n              <input id=\"loanProduct\"\n                     class=\"form-control\"\n                     type=\"text\"\n                     placeholder=\"Loan Product\"\n                     formControlName=\"loanProduct\"\n                     autocomplete=\"off\"\n                     (input)=\"validate()\"\n                     (blur)=\"isUnique('loanProduct')\"\n                     required>\n              <div class=\"feedback text-danger\">\n\n              </div>\n            </div>\n            <div class=\"form-group pl-3\">\n              <label for=\"maxAmount\">Max Amount</label>\n              <input id=\"maxAmount\"\n                     class=\"form-control\"\n                     type=\"text\"\n                     placeholder=\"Max Amount\"\n                     formControlName=\"maxAmount\"\n                     autocomplete=\"off\"\n                     (input)=\"validate()\"\n                     required>\n              <div class=\"feedback text-danger\">\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row px-4\">\n          <div class=\"responsive-form-group w-100 justify-content-center\">\n            <div class=\"col-lg-4 col-md-5 col-12\">\n              <div class=\"form-group\">\n                <label for=\"maxTenure\">Max Tenure</label>\n                <input id=\"maxTenure\"\n                       class=\"form-control\"\n                       type=\"text\"\n                       placeholder=\"Max Tenure\"\n                       formControlName=\"maxTenure\"\n                       autocomplete=\"off\"\n                       (input)=\"validate()\"\n                       required>\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-4 col-md-5 col-12\">\n              <div class=\"form-group\">\n                <label for=\"timeThreshold\">Time Threshold(Days)</label>\n                <input id=\"timeThreshold\"\n                       class=\"form-control\"\n                       type=\"text\"\n                       placeholder=\"Time Threshold\"\n                       formControlName=\"timeThreshold\"\n                       autocomplete=\"off\"\n                       (input)=\"validate()\"\n                       required>\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"d-flex flex-row pt-2 pb-4 justify-content-end\">\n          <a routerLink=\"/loan_products\"\n             class=\"no-decoration btn btn-secondary submit-button d-flex col-2 align-items-center justify-content-center mr-4\">\n            <i class=\"material-icons\">arrow_back</i>&nbsp;Back\n          </a>\n          <button type=\"submit\"\n                  class=\"btn btn-primary submit-button d-flex col-2 justify-content-center mr-4\"\n                  [disabled]=\"!formGroup.valid\">\n            Save\n          </button>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</div>\n","import {AfterContentInit, Component, OnChanges, OnInit} from '@angular/core';\nimport {LoanProduct} from \"../model/loan-product\";\nimport {Observable} from \"rxjs\";\nimport {LoanProductService} from \"../core/services/loan-product.service\";\nimport {FormControl, Validators} from \"@angular/forms\";\nimport {Router} from \"@angular/router\";\nimport * as $ from 'jquery';\nimport {Entity} from \"../model/entity\";\nimport {ServerResp} from \"../model/server-resp\";\nimport {NgxSpinnerService} from \"ngx-spinner\";\n\n@Component({\n  selector: 'loanlead-loan-products',\n  templateUrl: './loan-products.component.html',\n  styleUrls: ['./loan-products.component.scss']\n})\nexport class LoanProductsComponent implements OnInit {\n  searchValue: FormControl = new FormControl('');\n  itemsCount: FormControl = new FormControl(\n    5,\n    [\n      Validators.required,\n      Validators.min(5),\n      Validators.max(20),\n    ]);\n\n  loanProductsCount$: Observable<number>;\n  loanProducts$: Observable<LoanProduct[]>;\n  countChanged: boolean;\n  selectAll: boolean;\n  anySelected: boolean;\n  entitiesToDelete: number[];\n\n  constructor(private loanProductService: LoanProductService, private router: Router, private spinner: NgxSpinnerService) { }\n\n  ngOnInit(): void {\n    this.spinner.show();\n    this.load(1);\n    this.loanProductsCount$ = this.loanProductService.getLoanProductsCount();\n    this.selectAll = false;\n    this.entitiesToDelete = [];\n  }\n\n  check(id?: number): void {\n    if (id) {\n      if (this.entitiesToDelete.includes(id)) {\n        this.entitiesToDelete.splice(this.entitiesToDelete.indexOf(id), 1);\n      } else {\n        this.entitiesToDelete.push(id);\n      }\n    }\n    this.anySelected = this.entitiesToDelete.length > 0;\n  }\n\n  load(page: number) {\n    this.loanProducts$ = this.loanProductService.getLoanProducts(page - 1, this.itemsCount.value).pipe(loanProducts => {\n      this.spinner.hide();\n      return loanProducts;\n    });\n  }\n\n  validate() {\n    const input = document.getElementById('itemsCount');\n    const labelSpan = document.querySelector('#itemsCount + .feedback');\n\n    input.classList[this.itemsCount.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (this.itemsCount.errors) {\n      Object.keys(this.itemsCount.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'min':\n            textContent = 'Please, enter higher number';\n            break;\n          case 'max':\n            textContent = 'Please, enter lower number';\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n    labelSpan.textContent = textContent;\n    this.countChanged = true;\n  }\n\n  filter() {\n    if (!this.itemsCount.errors && this.countChanged) {\n      const page = 1;\n      this.load(page);\n      this.countChanged = false;\n    }\n  }\n\n  pagesCount(loanProductsCount: number) {\n    let result = loanProductsCount / this.itemsCount.value;\n    return Math.round(result) < result ? Math.round(result) + 1 : Math.round(result);\n  }\n\n  selectAllTrigger(loanProducts: LoanProduct[]) {\n    this.selectAll = !this.selectAll;\n    if (this.selectAll) {\n      this.entitiesToDelete = loanProducts.map(loanProduct => loanProduct.id);\n    } else {\n      this.entitiesToDelete = [];\n    }\n    this.anySelected = this.selectAll;\n  }\n\n  delete() {\n    this.loanProductService.deleteLoanProducts(this.entitiesToDelete).subscribe((data: ServerResp<any>) => {\n      if (data.err) {\n        alert(`Request error with code ${data.err.status}`);\n      } else {\n        this.load(1);\n        this.loanProductsCount$ = this.loanProductService.getLoanProductsCount();\n      }\n    })\n  }\n}\n","<ngx-spinner bgColor=\"#FFFFFF\" size=\"medium\" color=\"#2129BF\" type=\"ball-clip-rotate\">\n  <p class=\"text-light\" style=\"font-size: 20px;\">Loading...</p>\n</ngx-spinner>\n\n<loanlead-navigation></loanlead-navigation>\n<ng-container *ngIf=\"loanProducts$ | async as loanProducts\">\n  <div *ngIf=\"loanProducts.length\" class=\"border border-secondary m-3 p-3 bg-white rounded animated fadeIn\">\n    <div class=\"py-2 page-body-heading justify-content-between\">\n      <label class=\"rounded col-lg-2 col-md-3 col-12 py-2 page-heading d-flex align-items-center justify-content-center\"><i class=\"material-icons\">group</i>&nbsp;Loan Products</label>\n\n      <div class=\"col-md-3 col-12\">\n        <div class=\"form-group\">\n          <label for=\"itemsCount\">Items Count</label>\n          <input id=\"itemsCount\"\n                 type=\"number\"\n                 placeholder=\"Search\"\n                 data-placeholder=\"Search\"\n                 class=\"form-control\"\n                 [formControl]=\"itemsCount\"\n                 (input)=\"validate()\"\n                 (blur)=\"filter()\"\n                 required>\n          <div class=\"feedback text-danger\"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"py-2 d-flex justify-content-end\">\n      <a routerLink=\"../loan_products_form\" class=\"btn btn-primary d-flex align-items-center col-lg-2 col-md-3 col-sm-4 col-12 justify-content-center py-2\"><i class=\"material-icons\">add</i>&nbsp;Create new loan product</a>\n    </div>\n    <div class=\"py-2\" style=\"overflow-x: auto;\">\n      <table id=\"contentTable\" class=\"table table-striped table-hover table-bordered table-condensed\" style=\"min-width: 1595px;\">\n        <thead>\n        <tr>\n          <th>ID</th>\n          <th>Loan Product</th>\n          <th>Max Amount</th>\n          <th>Max Tenure</th>\n          <th>Time Threshold</th>\n          <th>Edit</th>\n          <th><input type=\"checkbox\" id=\"select-all\" (click)=\"selectAllTrigger(loanProducts)\"/></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr [id]=\"[loanProduct.id]\" *ngFor=\"let loanProduct of loanProducts\">\n          <td>{{ loanProduct.id }}</td>\n          <td>{{ loanProduct.loanProduct }}</td>\n          <td>{{ loanProduct.maxAmount }}</td>\n          <td>{{ loanProduct.maxTenure }}</td>\n          <td>{{ loanProduct.timeThreshold }}</td>\n          <td><a [routerLink]=\"['/loan_products_form/' + loanProduct.id]\">Edit</a></td>\n          <td><input type=\"checkbox\" [checked]=\"selectAll\" (click)=\"check(loanProduct.id)\"></td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"py-2\">\n      <button type=\"button\" id=\"deleteButton\" class=\"btn btn-primary\" [disabled]=\"!anySelected\" (click)=\"delete()\">Delete loan products</button>\n    </div>\n    <div class=\"p-2\">\n      <a href=\"/api/reports/loan-product\" class=\"btn btn-primary\">Export excel</a>\n    </div>\n  </div>\n  <div class=\"empty-list\" *ngIf=\"!loanProducts.length\">\n    No loanProducts was found.\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"loanProductsCount$ | async as loanProductsCount\">\n  <app-pagination *ngIf=\"loanProductsCount > itemsCount.value\"\n                  [lastPage]=\"pagesCount(loanProductsCount)\"\n                  (pageChanged)=\"load($event)\">\n  </app-pagination>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ReactiveFormsModule} from \"@angular/forms\";\nimport {NavigationModule} from \"../ui/navigation/navigation.module\";\nimport {PaginationModule} from \"../common/pagination/pagination.module\";\nimport {RouterModule} from \"@angular/router\";\nimport {LoanProductsComponent} from \"./loan-products.component\";\nimport {LoanProductFormComponent} from \"./loan-product-form/loan-product-form.component\";\nimport {NgxSpinnerModule} from \"ngx-spinner\";\n\n\n\n@NgModule({\n  declarations: [LoanProductsComponent, LoanProductFormComponent],\n    imports: [\n        ReactiveFormsModule,\n        NavigationModule,\n        CommonModule,\n        PaginationModule,\n        RouterModule,\n        NgxSpinnerModule\n    ]\n})\nexport class LoanProductsModule { }\n","import {Component, OnInit} from '@angular/core';\nimport {Observable} from \"rxjs\";\nimport {User} from \"../model/user\";\nimport {UserService} from \"../core/services/user.service\";\nimport {NgxSpinnerService} from \"ngx-spinner\";\n\n@Component({\n  selector: 'loanlead-logged-users',\n  templateUrl: './logged-users.component.html',\n  styleUrls: ['./logged-users.component.scss']\n})\nexport class LoggedUsersComponent implements OnInit {\n  users: User[];\n  userBranches: string[];\n\n  constructor(private userService: UserService, private spinner: NgxSpinnerService) {\n  }\n\n  ngOnInit(): void {\n    this.spinner.show();\n    this.userService.getLoggedUsers()\n      .subscribe(users => {\n        this.spinner.hide();\n        this.users = users;\n      });\n  }\n\n  format(date: Date) {\n    return ((date.getDate() < 10) ? '0' + date.getDate() : date.getDate()) +\n      \"/\" + ((date.getMonth() < 10) ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)) +\n      \"/\" + date.getFullYear() +\n      \" \" + ((date.getHours() < 10) ? '0' + date.getHours() : date.getHours()) +\n      \":\" + ((date.getMinutes() < 10) ? '0' + date.getMinutes() : date.getMinutes()) +\n      \":\" + ((date.getSeconds() < 10) ? '0' + date.getSeconds() : date.getSeconds());\n  }\n\n  dateInstance(date: string) {\n    return new Date(date);\n  }\n\n  logoutUser(employeeId: string) {\n    this.userService.logoutUser(employeeId)\n      .subscribe(data => {\n        if (!data.err) {\n          this.users = data.data;\n        } else {\n          alert(data.err.message);\n        }\n      });\n  }\n\n  setUserBranches(branches: string[]) {\n    this.userBranches = branches;\n  }\n}\n","<ngx-spinner bgColor=\"#FFFFFF\" size=\"medium\" color=\"#2129BF\" type=\"ball-clip-rotate\">\n  <p class=\"text-light\" style=\"font-size: 20px;\">Loading...</p>\n</ngx-spinner>\n\n<loanlead-navigation></loanlead-navigation>\n<ng-container *ngIf=\"users\">\n  <div class=\"border border-secondary m-3 p-3 bg-white rounded animated fadeInUp\">\n    <div class=\"py-2 page-body-heading justify-content-between\">\n      <label class=\"rounded col-lg-2 col-md-3 col-12 py-2 page-heading d-flex align-items-center justify-content-center\">\n        <i class=\"material-icons\">account_balance</i>&nbsp;Logged Users\n      </label>\n    </div>\n    <hr>\n    <div class=\"py-2\" style=\"overflow-x: auto;\">\n      <table id=\"contentTable\" class=\"table table-striped table-hover table-bordered table-condensed\">\n        <thead>\n        <tr>\n          <th>ID</th>\n          <th>User Name</th>\n          <th>Name</th>\n          <th>Contact nr. 1</th>\n          <th>Email</th>\n          <th>Branches</th>\n          <th>Created at</th>\n          <th>Logout user</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor=\"let user of users\">\n          <td>{{ user.id }}</td>\n          <td>{{ user.employeeId }}</td>\n          <td>{{ user.fullName }}</td>\n          <td>{{ user.phoneNumber }}</td>\n          <td>{{ user.email }}</td>\n          <td><a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#branchesTableModal\" (click)=\"setUserBranches(user.branches)\">Branches</a></td>\n          <td>{{ format(dateInstance(user.createdAt)) }}</td>\n          <td><a href=\"javascript:void(0);\" (click)=\"logoutUser(user.employeeId)\">Logout user</a></td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"p-2\">\n      <a href=\"/api/reports/logged\" class=\"btn btn-primary\">Export excel</a>\n    </div>\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"userBranches\">\n  <div class=\"modal fade bd-example-modal-lg\" tabindex=\"-1\" role=\"dialog\" id=\"branchesTableModal\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\">Roles</h4>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n        </div>\n        <div class=\"modal-body\" style=\"overflow-x: auto;\">\n          <ul *ngIf=\"userBranches.length\">\n            <li *ngFor=\"let branch of userBranches\">{{ branch }}</li>\n          </ul>\n          <div class=\"empty-list\" *ngIf=\"!userBranches.length\">\n            No loans was found.\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ReactiveFormsModule} from \"@angular/forms\";\nimport {NavigationModule} from \"../ui/navigation/navigation.module\";\nimport {RouterModule} from \"@angular/router\";\nimport {LoggedUsersComponent} from \"./logged-users.component\";\nimport {NgxSpinnerModule} from \"ngx-spinner\";\n\n@NgModule({\n  declarations: [LoggedUsersComponent],\n    imports: [\n        ReactiveFormsModule,\n        NavigationModule,\n        CommonModule,\n        RouterModule,\n        NgxSpinnerModule\n    ]\n})\nexport class LoggedUsersModule { }\n","import {HttpErrorResponse} from '@angular/common/http';\r\n\r\nexport class ServerResp<T> {\r\n\r\n  constructor(public data: T, public err: HttpErrorResponse) {\r\n  }\r\n\r\n  static forData<T>(data: T): ServerResp<T> {\r\n    return new ServerResp(data, undefined);\r\n  }\r\n\r\n  static withError<T>(err: HttpErrorResponse): ServerResp<T> {\r\n    return new ServerResp(undefined, err);\r\n  }\r\n}\r\n","export interface FooterConfig {\r\n  buttons: FooterButton[];\r\n}\r\n\r\nexport interface FooterButton {\r\n  caption: string;\r\n  cls: string;\r\n  type: string;\r\n  disabled?: boolean;\r\n  action?: FooterAction;\r\n}\r\n\r\nexport interface FooterAction {\r\n  method: HTTPMethod;\r\n  url: string;\r\n}\r\n\r\nexport enum HTTPMethod {\r\n  GET,\r\n  POST,\r\n  PUT,\r\n  PATCH,\r\n  DELETE\r\n}\r\n","import {Component, OnInit} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {LoanService} from '../core/services/loan.service';\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport * as $ from 'jquery';\nimport {User} from '../model/user';\nimport {UserService} from '../core/services/user.service';\nimport {Loan} from '../model/loan';\nimport {ReportForm} from '../model/ui/components/report-form';\nimport {Branch} from '../model/branch';\nimport {BranchService} from '../core/services/branch.service';\nimport {Report} from \"../model/report\";\nimport {NgxSpinnerService} from \"ngx-spinner\";\n\n@Component({\n  selector: 'loanlead-reports',\n  templateUrl: './reports.component.html',\n  styleUrls: ['./reports.component.scss']\n})\nexport class ReportsComponent implements OnInit {\n  formGroup: FormGroup = new FormGroup({\n    startDate: new FormControl('', [Validators.required]),\n    endDate: new FormControl('', [Validators.required]),\n    reportType: new FormControl(''),\n    itemsCount: new FormControl('5', [Validators.required, Validators.min(1)])\n  });\n\n  loansCount$: Observable<number>;\n  loans$: Observable<Loan[]>;\n  comprehensiveLoans$: Observable<Report[]>;\n  currentPage: number;\n\n  entities: { id: number, name: string }[];\n  userBranches: string[];\n\n  constructor(\n    private fb: FormBuilder,\n    private loanService: LoanService,\n    private branchService: BranchService,\n    private userService: UserService,\n    private spinner: NgxSpinnerService\n  ) {\n    this.entities = [];\n    this.userBranches = [];\n  }\n\n  ngOnInit(): void {\n  }\n\n  validate(): boolean {\n    let result = true;\n    const controls = this.formGroup.controls;\n\n    Object.keys(controls).forEach((controlName) => {\n      result = this.validateFormControl(controlName);\n    });\n\n    return result;\n  }\n\n  validateFormControl(controlName: string): boolean {\n    console.log(controlName);\n    let result = true;\n    const control = this.formGroup.get(controlName);\n    const input = document.getElementById(controlName);\n    const labelSpan = document\n      .querySelector(`#${controlName} + .feedback`);\n\n    input.classList[control.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (control.errors) {\n      result = false;\n\n      Object.keys(control.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'min':\n            textContent = 'Please, provide higher value';\n            break;\n          case 'max':\n            textContent = 'Please, provide lower value';\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n\n    labelSpan.textContent = textContent;\n\n    return result;\n  }\n\n  reportTypeUpdate() {\n    this.entities = [];\n    switch (this.formGroup.get('reportType').value) {\n      case 'user':\n        this.userService.getAllUsers().subscribe((users: User[]) => this.entities = users.map((user: User) => ({\n          id: user.id,\n          name: user.fullName\n        })));\n        break;\n      case 'branch':\n        this.branchService.getAllBranches().subscribe((branches: Branch[]) => this.entities = branches.map((branch: Branch) => ({\n          id: branch.id,\n          name: branch.name\n        })));\n        break;\n      case 'stage':\n        this.entities = [\n          {id: 1, name: 'Application'},\n          {id: 2, name: 'Branch Approval'},\n          {id: 3, name: 'Branch Exit'},\n          {id: 4, name: 'Regional Approval'},\n          {id: 5, name: 'Head Office Entry'},\n          {id: 6, name: 'Credit Analysis'},\n          {id: 7, name: 'Head Office Approval'},\n          {id: 8, name: 'Legal Review'},\n          {id: 9, name: 'Loan Administration Entry'},\n          {id: 10, name: 'Loan Administration Verification'},\n          {id: 11, name: 'Loan Administration Exit'},\n          {id: 12, name: 'Disbursement'},\n        ];\n    }\n  }\n\n  load(page: number) {\n    this.currentPage = page;\n    const reportForm: ReportForm = {\n      startDate: this.formGroup.get('startDate').value,\n      endDate: this.formGroup.get('endDate').value,\n      reportType: this.formGroup.get('reportType').value,\n      itemsPerPage: this.formGroup.get('itemsCount').value,\n      page: this.currentPage ? this.currentPage - 1 : 0\n    };\n\n    if (document.getElementById('entityId')) {\n      reportForm.entityId = Number.parseInt($('#entityId').val());\n    }\n\n    this.loadLoans(reportForm);\n  }\n\n  reload() {\n    const reportForm: ReportForm = {\n      startDate: this.formGroup.get('startDate').value,\n      endDate: this.formGroup.get('endDate').value,\n      reportType: this.formGroup.get('reportType').value,\n      itemsPerPage: this.formGroup.get('itemsCount').value,\n      page: this.currentPage ? this.currentPage - 1 : 0\n    };\n\n    if (document.getElementById('entityId')) {\n      reportForm.entityId = Number.parseInt($('#entityId').val());\n    }\n\n    this.loans$ = null;\n    this.comprehensiveLoans$ = null;\n    this.loansCount$ = reportForm.reportType === 'comprehensive'\n      ? this.loanService.getComprehensiveReportsCount(reportForm)\n      : this.loanService.getReportsCount(reportForm);\n\n    this.loadLoans(reportForm);\n  }\n\n  loadLoans(reportForm: ReportForm) {\n    this.spinner.show();\n    if (reportForm.reportType === 'comprehensive') {\n      this.comprehensiveLoans$ = this.loanService.getComprehensiveReports(reportForm).pipe(reports => {\n        this.spinner.hide();\n        return reports;\n      });\n    } else {\n      this.loans$ = this.loanService.getReports(reportForm).pipe(reports => {\n        this.spinner.hide();\n        return reports;\n      });\n    }\n  }\n\n  pagesCount(customersCount: number) {\n    const result = customersCount / Number.parseInt(this.formGroup.get('itemsCount').value, 10);\n    return Math.round(result) < result ? Math.round(result) + 1 : Math.round(result);\n  }\n\n  setUserBranches(branches: string[]) {\n    this.userBranches = branches;\n  }\n\n  getItemsCount() {\n    return this.formGroup.get('itemsCount').value;\n  }\n\n  reportLink() {\n    let resultLink = '/api/reports/specific?';\n\n    const fields: string[] = ['startDate', 'endDate', 'reportType'];\n    resultLink += fields.map(field => field + '=' + this.formGroup.get(field).value).join('&');\n    resultLink += '&itemsPerPage=' + this.formGroup.get('itemsCount').value;\n    resultLink += '&page=' + (this.currentPage ? this.currentPage - 1 : 0);\n\n    if (document.getElementById('entityId')) {\n      resultLink += '&entityId=' + $('#entityId').val();\n    }\n\n    return resultLink;\n  }\n\n  format(date: Date) {\n    return ((date.getDate() < 10) ? '0' + date.getDate() : date.getDate()) +\n      \"/\" + ((date.getMonth() < 10) ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)) +\n      \"/\" + date.getFullYear() +\n      \" \" + ((date.getHours() < 10) ? '0' + date.getHours() : date.getHours()) +\n      \":\" + ((date.getMinutes() < 10) ? '0' + date.getMinutes() : date.getMinutes()) +\n      \":\" + ((date.getSeconds() < 10) ? '0' + date.getSeconds() : date.getSeconds());\n  }\n\n  dateInstance(date: string) {\n    return new Date(date);\n  }\n\n  modifyAmount(amount: string): string {\n    return amount.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n\n}\n","<loanlead-navigation></loanlead-navigation>\n<div class=\"border border-secondary m-3 p-3 bg-white rounded animated fadeInUp\">\n  <div class=\"py-2 page-body-heading justify-content-between\">\n    <label\n      class=\"rounded col-lg-2 col-md-3 col-12 py-2 page-heading d-flex align-items-center justify-content-center\"><i\n      class=\"material-icons\">group</i>&nbsp;Loans</label>\n  </div>\n  <hr>\n  <form id=\"reportForm\" action=\"javascript:void(0);\" method=\"get\" class=\"form-horizontal form-with-image\" [formGroup]=\"formGroup\">\n    <div class=\"py-2\">\n      <fieldset class=\"border border-yellow rounded\">\n        <legend class=\"d-block w-auto ml-3 text-dark-blue\">Form</legend>\n\n        <div class=\"row px-4\">\n          <div class=\"col-md-3 col-12\">\n            <div class=\"form-group\">\n              <label for=\"startDate\">Start Date</label>\n              <input type=\"date\" name=\"startDate\" id=\"startDate\" class=\"form-control\" formControlName=\"startDate\"\n                     (change)=\"validate()\">\n              <div class=\"feedback text-danger\">\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-3 col-12\">\n            <div class=\"form-group\">\n              <label for=\"endDate\">End Date</label>\n              <input type=\"date\" name=\"endDate\" id=\"endDate\" class=\"form-control\" formControlName=\"endDate\"\n                     (change)=\"validate()\">\n              <div class=\"feedback text-danger\">\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-3 col-12\">\n            <div class=\"form-group\">\n              <label for=\"reportType\">Report Type</label>\n              <select class=\"item_in form-control\" name=\"reportType\" id=\"reportType\" formControlName=\"reportType\" (change)=\"reportTypeUpdate()\">\n                <option value=\"\" selected disabled>Select report type</option>\n                <option value=\"comprehensive\">Comprehensive Report</option>\n                <option value=\"running\">List Of Running Loans</option>\n                <option value=\"forwarded\">List Of Forwarded Loans</option>\n                <option value=\"rejected\">List Of loans Rejected</option>\n                <option value=\"deferred\">List Of loans Deferred</option>\n                <option value=\"disbursed\">List Of loans Disbursed</option>\n                <option value=\"stage\">Loans Running By Movement Stage</option>\n                <option value=\"user\">Loans Running By User</option>\n                <option value=\"branch\">Loans Running By Branch</option>\n              </select>\n              <div class=\"feedback text-danger\">\n              </div>\n            </div>\n          </div>\n          <div id=\"stageFormGroup\" class=\"col-md-3 col-12\" *ngIf=\"entities.length\">\n            <div class=\"form-group\">\n              <label for=\"entityId\" id=\"entityLabel\">Stage</label>\n              <select class=\"item_in form-control\" name=\"entityId\" id=\"entityId\">\n                <option value=\"\" disabled selected>Select entity</option>\n                <option [value]=\"entity.id\" *ngFor=\"let entity of entities\">{{ entity.name }}</option>\n              </select>\n              <div class=\"feedback text-danger\">\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-3 col-12\">\n            <div class=\"form-group\">\n              <label for=\"itemsCount\">Items Count</label>\n              <input id=\"itemsCount\"\n                     type=\"number\"\n                     placeholder=\"Search\"\n                     data-placeholder=\"Search\"\n                     class=\"form-control\"\n                     formControlName=\"itemsCount\"\n                     (input)=\"validate()\"\n                     required>\n              <div class=\"feedback text-danger\"></div>\n            </div>\n          </div>\n          <div class=\"col-md-3 col-12 d-flex align-items-end\">\n            <div class=\"form-group w-100 d-flex\">\n              <button id=\"filterButton\" type=\"button\" class=\"btn btn-primary col-md-6 col-12\" (click)=\"reload()\">\n                Filter\n              </button>\n            </div>\n          </div>\n        </div>\n      </fieldset>\n    </div>\n    <hr>\n    <ng-container *ngIf=\"loans$ | async as loans\">\n      <ngx-spinner bgColor=\"#FFFFFF\" size=\"medium\" color=\"#2129BF\" type=\"ball-clip-rotate\">\n        <p class=\"text-light\" style=\"font-size: 20px;\">Loading...</p>\n      </ngx-spinner>\n\n      <div class=\"py-2\" style=\"overflow-x: auto;\">\n        <table *ngIf=\"loans.length\" id=\"reportTable\"\n               class=\"table table-striped table-hover table-bordered table-condensed\"\n               style=\"min-width: 1350px;\">\n          <thead>\n          <tr>\n            <th>ID</th>\n            <th>Customer</th>\n            <th>Type</th>\n            <th>Tenure</th>\n            <th>Amount</th>\n            <th>Stage</th>\n            <th>Status</th>\n            <th>User</th>\n            <th>Branches</th>\n            <th>Stage at</th>\n            <th>Created at</th>\n            <th>Comment</th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr *ngFor=\"let loan of loans\">\n            <td>{{ loan.id }}</td>\n            <td>{{ loan.customer }}</td>\n            <td>{{ loan.type }}</td>\n            <td>{{ loan.tenure }}</td>\n            <td>{{ modifyAmount(loan.amount.toString()) }}</td>\n            <td>{{ loan.role.displayName }}</td>\n            <td>{{ loan.status }}</td>\n            <td>{{ loan.user.fullName }}</td>\n            <td><a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#branchesTableModal\" (click)=\"setUserBranches(loan.user.branches)\">Branches</a></td>\n            <td>{{ format(dateInstance(loan.stagedAt)) }}</td>\n            <td>{{ format(dateInstance(loan.createdAt)) }}</td>\n            <td>{{ loan.comment }}</td>\n          </tr>\n          </tbody>\n        </table>\n        <div class=\"empty-list\" *ngIf=\"!loans.length\">\n          No loans was found.\n        </div>\n      </div>\n    </ng-container>\n    <ng-container *ngIf=\"comprehensiveLoans$ | async as comprehensiveLoans\">\n      <div class=\"py-2\" style=\"overflow-x: auto;\">\n        <table *ngIf=\"comprehensiveLoans.length\" id=\"comprehensiveReportTable\"\n               class=\"table table-striped table-hover table-bordered table-condensed\"\n               style=\"min-width: 1350px;\">\n          <thead>\n          <tr>\n            <th>ID</th>\n            <th>Customer</th>\n            <th>Stage</th>\n            <th>Status</th>\n            <th>Actioned At</th>\n            <th>User</th>\n            <th>Branches</th>\n            <th>Comment</th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr *ngFor=\"let comprehensiveLoan of comprehensiveLoans\">\n            <td>{{ comprehensiveLoan.id }}</td>\n            <td>{{ comprehensiveLoan.customer }}</td>\n            <td>{{ comprehensiveLoan.stage }}</td>\n            <td>{{ comprehensiveLoan.status }}</td>\n            <td>{{ format(dateInstance(comprehensiveLoan.actionedAt)) }}</td>\n            <td>{{ comprehensiveLoan.user }}</td>\n            <td><a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#branchesTableModal\" (click)=\"setUserBranches(comprehensiveLoan.branches)\">Branches</a></td>\n            <td>{{ comprehensiveLoan.comment }}</td>\n          </tr>\n          </tbody>\n        </table>\n        <div class=\"empty-list\" *ngIf=\"!comprehensiveLoans.length\">\n          No comprehensive loans was found.\n        </div>\n      </div>\n    </ng-container>\n    <ng-container *ngIf=\"loansCount$ | async as loansCount\">\n      <app-pagination *ngIf=\"loansCount > getItemsCount()\"\n                      [lastPage]=\"pagesCount(loansCount)\"\n                      (pageChanged)=\"load($event)\">\n      </app-pagination>\n    </ng-container>\n    <div class=\"py-2\">\n      <a [href]=\"reportLink()\" class=\"btn btn-primary\">Export excel</a>\n    </div>\n  </form>\n</div>\n\n<ng-container *ngIf=\"userBranches.length\">\n  <div class=\"modal fade bd-example-modal-lg\" tabindex=\"-1\" role=\"dialog\" id=\"branchesTableModal\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\">Roles</h4>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n        </div>\n        <div class=\"modal-body\" style=\"overflow-x: auto;\">\n          <ul *ngIf=\"userBranches.length\">\n            <li *ngFor=\"let branch of userBranches\">{{ branch }}</li>\n          </ul>\n          <div class=\"empty-list\" *ngIf=\"!userBranches.length\">\n            No loans was found.\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {NavigationModule} from '../ui/navigation/navigation.module';\nimport {PaginationModule} from '../common/pagination/pagination.module';\nimport {RouterModule} from '@angular/router';\nimport {ReportsComponent} from './reports.component';\nimport {NgxSpinnerModule} from \"ngx-spinner\";\n\n@NgModule({\n  declarations: [ReportsComponent],\n    imports: [\n        ReactiveFormsModule,\n        NavigationModule,\n        CommonModule,\n        PaginationModule,\n        RouterModule,\n        NgxSpinnerModule\n    ]\n})\nexport class ReportsModule { }\n","import { Component, OnInit } from '@angular/core';\nimport {Observable} from \"rxjs\";\nimport {User} from \"../../model/user\";\nimport {UserService} from \"../../core/services/user.service\";\n\n@Component({\n  selector: 'loanlead-navigation',\n  templateUrl: './navigation.component.html',\n  styleUrls: ['./navigation.component.scss']\n})\nexport class NavigationComponent implements OnInit {\n  user$: Observable<User>\n\n  constructor(private userService: UserService) {\n  }\n\n  ngOnInit() {\n    this.user$ = this.userService.getCurrentUser();\n  }\n\n}\n","<ng-container *ngIf=\"user$ | async as user\">\n  <nav id=\"header\" class=\"navbar navbar-default navbar-expand-md navbar-fixed-top animated fadeInDown\">\n    <div class=\"container-fluid\">\n      <h2><a routerLink=\"../home\" class=\"text-yellow d-flex align-items-center no-decoration\">Loanlead</a></h2>\n      <button class=\"navbar-toggler text-yellow\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n        <i class=\"material-icons\">menu</i>\n      </button>\n      <div class=\"navbar-collapse collapse justify-content-end\">\n        <ul class=\"navbar-nav\">\n          <li class=\"nav-item\">\n            <a routerLink=\"../home\" class=\"nav-link text-yellow d-flex align-items-center no-decoration\">\n              <i class=\"material-icons\">home</i>&nbsp;Home\n            </a>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <a href=\"javascript:void(0);\" class=\"nav-link text-yellow d-flex align-items-center dropdown-toggle no-decoration\"\n               data-toggle=\"dropdown\" role=\"button\" id=\"entitiesMenuLink\" aria-haspopup=\"true\"\n               aria-expanded=\"false\">\n              <i class=\"material-icons\">menu</i>&nbsp;Entities\n            </a>\n\n            <div class=\"dropdown-menu fade\" aria-labelledby=\"entitiesMenuLink\">\n              <a routerLink=\"../edit\" class=\"dropdown-item text-secondary d-flex align-items-center no-decoration\">\n                <i class=\"material-icons\">person</i>Edit Profile\n              </a>\n              <a routerLink=\"../reports\" class=\"dropdown-item text-secondary d-flex align-items-center no-decoration\">\n                <i class=\"material-icons\">report</i>Reports\n              </a>\n              <a routerLink=\"../logged\" *ngIf=\"user.roles.includes('Administrator')\" class=\"dropdown-item text-secondary d-flex align-items-center no-decoration\">\n                <i class=\"material-icons\">report</i>Logged Users\n              </a>\n              <a routerLink=\"../entities\" *ngIf=\"user.roles.includes('Administrator')\" class=\"dropdown-item text-secondary d-flex align-items-center no-decoration\">\n                <i class=\"material-icons\">settings</i>Entities\n              </a>\n              <a routerLink=\"../branches\" *ngIf=\"user.roles.includes('Administrator')\" class=\"dropdown-item text-secondary d-flex align-items-center no-decoration\">\n                <i class=\"material-icons\">settings</i>Branches\n              </a>\n              <a routerLink=\"../loan_products\" *ngIf=\"user.roles.includes('Administrator')\" class=\"dropdown-item text-secondary d-flex align-items-center no-decoration\">\n                <i class=\"material-icons\">settings</i>Loan Products\n              </a>\n              <a routerLink=\"../users\" *ngIf=\"user.roles.includes('Administrator')\" class=\"dropdown-item text-secondary d-flex align-items-center no-decoration\">\n                <i class=\"material-icons\">settings</i>Users\n              </a>\n              <a routerLink=\"../dashboard\" *ngIf=\"user.roles !== ['Administrator']\" class=\"dropdown-item text-secondary d-flex align-items-center no-decoration\">\n                <i class=\"material-icons\">dashboard</i>User Dashboard\n              </a>\n              <a routerLink=\"../customers\" *ngIf=\"user.roles !== ['Administrator']\" class=\"dropdown-item text-secondary d-flex align-items-center no-decoration\">\n                <i class=\"material-icons\">settings</i>Customers\n              </a>\n            </div>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <a href=\"javascript:void(0);\"\n\n               class=\"text-yellow dropdown-toggle d-flex align-items-center h-100 no-decoration nav-menu-header\"\n               data-toggle=\"dropdown\" role=\"button\" id=\"userAccountMenuLink\" aria-haspopup=\"true\"\n               aria-expanded=\"false\">\n              <img [src]=\"[user.picturePath]\" class=\"rounded-circle nav-image\">\n              &nbsp;{{ user.fullName }}\n            </a>\n\n            <div class=\"dropdown-menu\" aria-labelledby=\"userAccountMenuLink\">\n              <a href=\"/logout\" class=\"dropdown-item text-secondary d-flex align-items-center no-decoration\">\n                <i class=\"material-icons\">exit_to_app</i>Logout\n              </a>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {NavigationComponent} from \"./navigation.component\";\nimport {RouterModule} from \"@angular/router\";\n\n@NgModule({\n  declarations: [NavigationComponent],\n  exports: [\n    NavigationComponent\n  ],\n  imports: [\n    CommonModule,\n    RouterModule\n  ]\n})\nexport class NavigationModule { }\n","import {ChangeDetectorRef, Component, OnInit} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {User} from '../../model/user';\nimport {Role} from '../../model/role';\nimport {UserService} from '../../core/services/user.service';\nimport {RoleService} from '../../core/services/role.service';\nimport {BranchService} from '../../core/services/branch.service';\nimport {Branch} from '../../model/branch';\nimport {ServerResp} from \"../../model/server-resp\";\n\nconst toSpaceBetween = (s: string): string => {\n  return s.replace(\n    /[A-Z]/g,\n    (c: string) => ` ${c.toLowerCase()}`\n  );\n};\n\n@Component({\n  selector: 'loanlead-user-form',\n  templateUrl: './user-form.component.html',\n  styleUrls: ['./user-form.component.scss']\n})\nexport class UserFormComponent implements OnInit {\n  file = null;\n\n  userId: number;\n  user: User;\n  roles$: Observable<Role[]>;\n  branches$: Observable<Branch[]>;\n  formGroup: FormGroup = new FormGroup({\n    employeeId: new FormControl('', Validators.required),\n    password: new FormControl('', Validators.required),\n    fullName: new FormControl('', Validators.required),\n    email: new FormControl('', [Validators.required, Validators.email]),\n    phoneNumber: new FormControl('', [Validators.required, Validators.pattern('07[0-9]{8}')]),\n    optionalPhoneNumber: new FormControl('', Validators.pattern('07[0-9]{8}')),\n    roles: new FormControl([''], Validators.required),\n    branches: new FormControl([''], Validators.required)\n  });\n\n  constructor(\n    private userService: UserService,\n    private roleService: RoleService,\n    private branchService: BranchService,\n    private cd: ChangeDetectorRef,\n    private router: Router,\n    private activatedRoute: ActivatedRoute\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.roles$ = this.roleService.getAllRoles();\n    this.branches$ = this.branchService.getAllBranches();\n    this.activatedRoute.paramMap.subscribe((paramMap: ParamMap) => {\n      this.userId = Number.parseInt(paramMap.get('userId'), 10);\n\n      if (this.userId) {\n        this.userService.getUser(this.userId).subscribe((user: User) => {\n          this.user = user;\n          this.formGroup.patchValue({\n            employeeId: user.employeeId,\n            password: user.password,\n            fullName: user.fullName,\n            email: user.email,\n            phoneNumber: user.phoneNumber,\n            optionalPhoneNumber: user.optionalPhoneNumber,\n            roles: user.roles,\n            branches: user.branches\n          });\n        });\n      }\n    });\n  }\n\n  validate(): boolean {\n    let result = true;\n    const controls = this.formGroup.controls;\n\n    Object.keys(controls).forEach((controlName) => {\n      result = this.validateFormControl(controlName);\n    });\n\n    return result;\n  }\n\n  validateFormControl(controlName: string): boolean {\n    let result = true;\n    const control = this.formGroup.get(controlName);\n    const input = document.getElementById(controlName);\n    const labelSpan = document\n      .querySelector(`#${controlName} + .feedback`);\n\n    input.classList[control.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (control.errors) {\n      result = false;\n\n      Object.keys(control.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'notUnique':\n            textContent = `This ${toSpaceBetween(controlName)} already exists`;\n            break;\n          case 'pattern':\n            textContent = `Invalid ${toSpaceBetween(controlName)} format`;\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n\n    labelSpan.textContent = textContent;\n\n    return result;\n  }\n\n  isUnique(fieldType: string): boolean {\n    let result = true;\n    const control = this.formGroup.get(fieldType);\n    const form = document.querySelector('form');\n\n    if (!control.errors && control.value) {\n      this.userService.getUserByField(fieldType, control.value)\n        .subscribe((data: User) => {\n          if (data != null && data.id !== this.user.id) {\n            if (control.errors) {\n              control.errors.notUnique = {notUnique: true};\n            } else {\n              control.setErrors({notUnique: true});\n            }\n          } else {\n            if (control.errors) {\n              delete control.errors.notUnique;\n            }\n          }\n\n          result = this.validateFormControl(fieldType);\n        });\n    }\n\n    return result;\n  }\n\n  submit() {\n    if (this.validate()) {\n      const formData = new FormData();\n      formData.append('file', this.file);\n      formData.append('id', this.user.id.toString());\n      formData.append('employeeId', this.formGroup.get('employeeId').value);\n      formData.append('password', this.formGroup.get('password').value);\n      formData.append('fullName', this.formGroup.get('fullName').value);\n      formData.append('status', this.user.status);\n      formData.append('email', this.formGroup.get('email').value);\n      formData.append('phoneNumber', this.formGroup.get('phoneNumber').value);\n      formData.append('optionalPhoneNumber', this.formGroup.get('optionalPhoneNumber').value);\n      this.formGroup.get('roles').value.forEach((role) => formData.append('roles', role));\n      this.formGroup.get('branches').value.forEach((branch) => formData.append('branches', branch));\n\n      if (!this.file) {\n        formData.append('picturePath', this.user.picturePath);\n      }\n\n      this.userService.save(formData)\n        .subscribe((data: ServerResp<User>) => {\n          if (!data.err) {\n            this.router.navigate(['/users']);\n          } else {\n            alert('Error while saving user');\n          }\n        });\n    }\n  }\n\n  onFileChange(event) {\n    if (event.target.files && event.target.files.length) {\n      this.file = event.target.files[0];\n    }\n  }\n\n}\n","<ng-container *ngIf=\"user\">\n  <loanlead-navigation></loanlead-navigation>\n  <div class=\"border border-secondary m-3 p-3 bg-white rounded\" style=\"position: relative; z-index: 2;\">\n    <div class=\"py-2\">\n      <label\n        class=\"rounded col-lg-2 col-md-3 col-sm-6 col py-2 page-heading d-flex align-items-center justify-content-center\">\n        <em class=\"material-icons\">person</em>&nbsp;User Form</label>\n    </div>\n    <hr>\n    <div class=\"py-2\">\n      <form action=\"/users\" method=\"POST\" class=\"form-horizontal form-with-image\" enctype=\"multipart/form-data\"\n            [formGroup]=\"formGroup\" (ngSubmit)=\"submit()\">\n        <fieldset class=\"border border-yellow rounded\">\n          <legend class=\"d-block w-auto ml-3 text-dark-blue\">Form</legend>\n\n          <div class=\"row px-4 justify-content-center\">\n            <div class=\"col-lg-3 col-md-4 col-12 d-flex justify-content-center p-3\">\n              <label for=\"picture\" class=\"image-input rounded-circle\"><img [src]=\"user.picturePath\"\n                                                                           class=\"rounded-circle\"></label>\n              <input type=\"file\" name=\"file\" id=\"picture\" hidden (change)=\"onFileChange($event)\">\n            </div>\n            <div class=\"col-lg-5 col-md-6 col-12 d-flex justify-content-center flex-column\">\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"employeeId\">Employee ID</label>\n                  <input id=\"employeeId\"\n                         class=\"form-control\"\n                         type=\"text\"\n                         placeholder=\"Employee Id\"\n                         formControlName=\"employeeId\"\n                         (input)=\"validate()\"\n                         (blur)=\"isUnique('employeeId')\"\n                         required>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-group pl-3\">\n                <label for=\"password\">Password</label>\n                <input tabindex=\"0\" type=\"password\"\n                       id=\"password\"\n                       class=\"form-control\"\n                       placeholder=\"Password\"\n                       formControlName=\"password\"\n                       (input)=\"validate()\"\n                       data-toggle=\"popover\">\n                <div class=\"feedback text-danger\">\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row px-4\">\n            <div class=\"responsive-form-group w-100 justify-content-center\">\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"fullName\">Full name</label>\n                  <input id=\"fullName\"\n                         class=\"form-control\"\n                         type=\"text\"\n                         placeholder=\"Full name\"\n                         formControlName=\"fullName\"\n                         (input)=\"validate()\"\n                         required>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"email\">Email</label>\n                  <input id=\"email\"\n                         class=\"form-control\"\n                         type=\"email\"\n                         placeholder=\"Email\"\n                         formControlName=\"email\"\n                         (input)=\"validate()\"\n                         (blur)=\"isUnique('email')\"\n                         required>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row px-4\">\n            <div class=\"responsive-form-group w-100 justify-content-center\">\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"phoneNumber\">Phone Number</label>\n                  <input id=\"phoneNumber\"\n                         class=\"form-control\"\n                         type=\"text\"\n                         placeholder=\"Phone Number\"\n                         formControlName=\"phoneNumber\"\n                         (input)=\"validate()\"\n                         (blur)=\"isUnique('phoneNumber')\"\n                         required>\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-lg-4 col-md-5 col-12\">\n                <div class=\"form-group\">\n                  <label for=\"optionalPhoneNumber\">Optional Phone Number</label>\n                  <input id=\"optionalPhoneNumber\"\n                         class=\"form-control\"\n                         type=\"text\"\n                         placeholder=\"Optional Phone Number\"\n                         formControlName=\"optionalPhoneNumber\"\n                         (input)=\"validate()\"\n                         (blur)=\"isUnique('optionalPhoneNumber')\">\n                  <div class=\"feedback text-danger\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row px-4\">\n            <div class=\"responsive-form-group w-100 justify-content-center\">\n              <ng-container *ngIf=\"roles$ | async as roles\">\n                <div class=\"col-lg-4 col-md-5 col-12\">\n                  <div class=\"form-group\">\n                    <label for=\"roles\">Roles</label>\n                    <select id=\"roles\"\n                            class=\"form-control\"\n                            type=\"text\"\n                            formControlName=\"roles\"\n                            autocomplete=\"off\"\n                            (change)=\"validate()\"\n                            required\n                            multiple>\n                      <option value=\"\" *ngFor=\"let role of roles\" [value]=\"role.displayName\">{{ role.displayName }}</option>\n                    </select>\n                    <div class=\"feedback text-danger\">\n                    </div>\n                  </div>\n                </div>\n              </ng-container>\n              <ng-container *ngIf=\"branches$ | async as branches\">\n                <div class=\"col-lg-4 col-md-5 col-12\">\n                  <div class=\"form-group\">\n                    <label for=\"branches\">Branches</label>\n                    <select id=\"branches\"\n                            class=\"form-control\"\n                            type=\"text\"\n                            formControlName=\"branches\"\n                            autocomplete=\"off\"\n                            (change)=\"validate()\"\n                            required\n                            multiple>\n                      <option value=\"\" *ngFor=\"let branch of branches\" [value]=\"branch.name\">{{ branch.name }}</option>\n                    </select>\n                    <div class=\"feedback text-danger\">\n                    </div>\n                  </div>\n                </div>\n              </ng-container>\n            </div>\n          </div>\n          <hr>\n          <div class=\"d-flex flex-row pt-2 pb-4 justify-content-end\">\n            <a routerLink=\"/users\"\n               class=\"no-decoration btn btn-secondary submit-button d-flex col-2 align-items-center justify-content-center mr-4\">\n              <i class=\"material-icons\">arrow_back</i>&nbsp;Back\n            </a>\n            <button type=\"submit\"\n                    class=\"btn btn-primary submit-button d-flex col-2 justify-content-center mr-4\"\n                    [disabled]=\"!formGroup.valid\">Save\n            </button>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</ng-container>\n","import {Component, OnInit} from '@angular/core';\nimport {User} from \"../model/user\";\nimport {Observable} from \"rxjs\";\nimport {UserService} from \"../core/services/user.service\";\nimport {FormControl, Validators} from \"@angular/forms\";\nimport {ServerResp} from \"../model/server-resp\";\nimport {Role} from \"../model/role\";\nimport {RoleService} from \"../core/services/role.service\";\nimport {NgxSpinnerService} from \"ngx-spinner\";\n\n@Component({\n  selector: 'loanlead-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.scss']\n})\nexport class UsersComponent implements OnInit {\n  searchValue: FormControl = new FormControl('');\n  usersItemsCount: FormControl = new FormControl(\n    5,\n    [\n      Validators.required,\n      Validators.min(5),\n      Validators.max(20),\n    ]);\n  newUsersItemsCount: FormControl = new FormControl(\n    5,\n    [\n      Validators.required,\n      Validators.min(5),\n      Validators.max(20),\n    ]);\n  userToApproveRoles: FormControl = new FormControl('', Validators.required);\n\n  usersCount$: Observable<number>;\n  newUsersCount$: Observable<number>;\n\n  users$: Observable<User[]>;\n  roles$: Observable<Role[]>;\n  newUsers$: Observable<User[]>;\n  userRoles: string[];\n  countChanged: boolean;\n  selectAll: boolean;\n  anySelected: boolean;\n  entitiesToDelete: number[];\n  userToApprove: User;\n\n  constructor(private userService: UserService, private roleService: RoleService, private spinner: NgxSpinnerService) {\n  }\n\n  ngOnInit(): void {\n    this.spinner.show();\n    this.loadUsers(1);\n    this.loadNewUsers(1);\n    this.roles$ = this.roleService.getAllRoles();\n    this.usersCount$ = this.userService.getUsersCount();\n    this.newUsersCount$ = this.userService.getNewUsersCount();\n    this.selectAll = false;\n    this.entitiesToDelete = [];\n  }\n\n  check(id?: number): void {\n    if (id) {\n      if (this.entitiesToDelete.includes(id)) {\n        this.entitiesToDelete.splice(this.entitiesToDelete.indexOf(id), 1);\n      } else {\n        this.entitiesToDelete.push(id);\n      }\n    }\n    this.anySelected = this.entitiesToDelete.length > 0;\n  }\n\n  loadUsers(page: number) {\n    this.users$ = this.userService.getUsers(page - 1, this.usersItemsCount.value).pipe(users => {\n      this.spinner.hide();\n      return users;\n    });\n  }\n\n  loadNewUsers(page: number) {\n    this.newUsers$ = this.userService.getNewUsers(page - 1, this.newUsersItemsCount.value);\n  }\n\n  validateUsersItemsCount() {\n    const input = document.getElementById('usersItemsCount');\n    const labelSpan = document.querySelector('#usersItemsCount + .feedback');\n\n    input.classList[this.usersItemsCount.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (this.usersItemsCount.errors) {\n      Object.keys(this.usersItemsCount.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'min':\n            textContent = 'Please, enter higher number';\n            break;\n          case 'max':\n            textContent = 'Please, enter lower number';\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n    labelSpan.textContent = textContent;\n    this.countChanged = true;\n  }\n\n  validateNewUsersItemsCount() {\n    const input = document.getElementById('newUsersItemsCount');\n    const labelSpan = document.querySelector('#newUsersItemsCount + .feedback');\n\n    input.classList[this.newUsersItemsCount.errors ? 'add' : 'remove']('invalid');\n    let textContent = '';\n\n    if (this.newUsersItemsCount.errors) {\n      Object.keys(this.newUsersItemsCount.errors).forEach((error) => {\n        switch (error) {\n          case 'required':\n            textContent = 'Please, enter this field';\n            break;\n          case 'min':\n            textContent = 'Please, enter higher number';\n            break;\n          case 'max':\n            textContent = 'Please, enter lower number';\n            break;\n          default:\n            textContent = '';\n            break;\n        }\n      });\n    }\n    labelSpan.textContent = textContent;\n    this.countChanged = true;\n  }\n\n  filterUsers() {\n    if (!this.usersItemsCount.errors && this.countChanged) {\n      const page = 1;\n      this.loadUsers(page);\n      this.countChanged = false;\n    }\n  }\n\n  filterNewUsers() {\n    if (!this.newUsersItemsCount.errors && this.countChanged) {\n      const page = 1;\n      this.loadNewUsers(page);\n      this.countChanged = false;\n    }\n  }\n\n  usersPagesCount(usersCount: number) {\n    let result = usersCount / this.newUsersItemsCount.value;\n    return Math.round(result) < result ? Math.round(result) + 1 : Math.round(result);\n  }\n\n  newUsersPagesCount(usersCount: number) {\n    let result = usersCount / this.newUsersItemsCount.value;\n    return Math.round(result) < result ? Math.round(result) + 1 : Math.round(result);\n  }\n\n  selectAllTrigger(users: User[]) {\n    this.selectAll = !this.selectAll;\n    if (this.selectAll) {\n      this.entitiesToDelete = users.map(user => user.id);\n    } else {\n      this.entitiesToDelete = [];\n    }\n    this.anySelected = this.selectAll;\n  }\n\n  format(date: Date) {\n    return ((date.getDate() < 10) ? '0' + date.getDate() : date.getDate()) +\n      \"/\" + ((date.getMonth() < 10) ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)) +\n      \"/\" + date.getFullYear() +\n      \" \" + ((date.getHours() < 10) ? '0' + date.getHours() : date.getHours()) +\n      \":\" + ((date.getMinutes() < 10) ? '0' + date.getMinutes() : date.getMinutes()) +\n      \":\" + ((date.getSeconds() < 10) ? '0' + date.getSeconds() : date.getSeconds());\n  }\n\n  dateInstance(date: string) {\n    return new Date(date);\n  }\n\n  setUserRoles(user: User) {\n    this.userRoles = user.roles;\n  }\n\n  approveUser(user: User) {\n    user.newlyCreated = false;\n    this.userToApprove = user;\n  }\n\n  save() {\n    this.userToApprove.roles = this.userToApproveRoles.value;\n    this.userService.approveUser(this.userToApprove).subscribe((data: User) => {\n      if (data) {\n        this.ngOnInit();\n      }\n    });\n  }\n\n  delete() {\n    this.userService.deleteUsers(this.entitiesToDelete).subscribe((data: ServerResp<any>) => {\n      if (data.err) {\n        alert(`Request error with code ${data.err.status}`);\n      } else {\n        this.loadUsers(1);\n        this.usersCount$ = this.userService.getUsersCount();\n      }\n    });\n  }\n}\n","<ngx-spinner bgColor=\"#FFFFFF\" size=\"medium\" color=\"#2129BF\" type=\"ball-clip-rotate\">\n  <p class=\"text-light\" style=\"font-size: 20px;\">Loading...</p>\n</ngx-spinner>\n\n<loanlead-navigation></loanlead-navigation>\n<ng-container *ngIf=\"newUsers$ | async as newUsers\">\n  <div *ngIf=\"newUsers.length\" class=\"border border-secondary m-3 p-3 bg-white rounded animated fadeIn\">\n    <div class=\"py-2 page-body-heading justify-content-between\">\n      <label\n        class=\"rounded col-lg-2 col-md-3 col-12 py-2 page-heading d-flex align-items-center justify-content-center\"><i\n        class=\"material-icons\">group</i>&nbsp;New Users</label>\n\n      <div class=\"col-md-3 col-12\">\n        <div class=\"form-group\">\n          <label for=\"newUsersItemsCount\">Items Count</label>\n          <input id=\"newUsersItemsCount\"\n                 type=\"number\"\n                 placeholder=\"Search\"\n                 data-placeholder=\"Search\"\n                 class=\"form-control\"\n                 [formControl]=\"newUsersItemsCount\"\n                 (input)=\"validateNewUsersItemsCount()\"\n                 (blur)=\"filterNewUsers()\"\n                 required>\n          <div class=\"feedback text-danger\"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"py-2\" style=\"overflow-x: auto;\">\n      <table class=\"table table-striped table-hover table-bordered table-condensed\"\n             style=\"min-width: 1595px;\">\n        <thead>\n        <tr>\n          <th>ID</th>\n          <th>User Name</th>\n          <th>Name</th>\n          <th>Role</th>\n          <th>Contact nr. 1</th>\n          <th>Email</th>\n          <th>Approve</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr [id]=\"[user.id]\" *ngFor=\"let user of newUsers\">\n          <td>{{ user.id }}</td>\n          <td>{{ user.employeeId }}</td>\n          <td>{{ user.fullName }}</td>\n          <td><a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#rolesTableModal\" (click)=\"setUserRoles(user)\">Roles</a></td>\n          <td>{{ user.phoneNumber }}</td>\n          <td>{{ user.email }}</td>\n          <td><a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#rolesModal\" (click)=\"approveUser(user)\">Approve</a></td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  <div class=\"empty-list\" *ngIf=\"!newUsers.length\">\n    No new users was found.\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"newUsersCount$ | async as newUsersCount\">\n  <app-pagination *ngIf=\"newUsersCount > usersItemsCount.value\"\n                  [lastPage]=\"newUsersPagesCount(newUsersCount)\"\n                  (pageChanged)=\"loadNewUsers($event)\">\n  </app-pagination>\n</ng-container>\n\n<ng-container *ngIf=\"users$ | async as users\">\n  <div *ngIf=\"users.length\" class=\"border border-secondary m-3 p-3 bg-white rounded animated fadeIn\">\n    <div class=\"py-2 page-body-heading justify-content-between\">\n      <label\n        class=\"rounded col-lg-2 col-md-3 col-12 py-2 page-heading d-flex align-items-center justify-content-center\"><i\n        class=\"material-icons\">group</i>&nbsp;Users</label>\n\n      <div class=\"col-md-3 col-12\">\n        <div class=\"form-group\">\n          <label for=\"usersItemsCount\">Items Count</label>\n          <input id=\"usersItemsCount\"\n                 type=\"number\"\n                 placeholder=\"Search\"\n                 data-placeholder=\"Search\"\n                 class=\"form-control\"\n                 [formControl]=\"usersItemsCount\"\n                 (input)=\"validateUsersItemsCount()\"\n                 (blur)=\"filterUsers()\"\n                 required>\n          <div class=\"feedback text-danger\"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"py-2\" style=\"overflow-x: auto;\">\n      <table id=\"contentTable\" class=\"table table-striped table-hover table-bordered table-condensed\"\n             style=\"min-width: 1595px;\">\n        <thead>\n        <tr>\n          <th>ID</th>\n          <th>User Name</th>\n          <th>Name</th>\n          <th>Role</th>\n          <th>Contact nr. 1</th>\n          <th>Email</th>\n          <th>Edit</th>\n          <th><input type=\"checkbox\" id=\"select-all\" (click)=\"selectAllTrigger(users)\"/></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr [id]=\"[user.id]\" *ngFor=\"let user of users\">\n          <td>{{ user.id }}</td>\n          <td>{{ user.employeeId }}</td>\n          <td>{{ user.fullName }}</td>\n          <td><a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#rolesTableModal\" (click)=\"setUserRoles(user)\">Roles</a></td>\n          <td>{{ user.phoneNumber }}</td>\n          <td>{{ user.email }}</td>\n          <td><a [routerLink]=\"['/user_form/' + user.id]\">Edit</a></td>\n          <td><input type=\"checkbox\" [checked]=\"selectAll\" (click)=\"check(user.id)\"></td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"py-2\">\n      <button type=\"button\" id=\"deleteButton\" class=\"btn btn-primary\" [disabled]=\"!anySelected\" (click)=\"delete()\">\n        Delete users\n      </button>\n    </div>\n    <div class=\"p-2\">\n      <a href=\"/api/reports/user\" class=\"btn btn-primary\">Export excel</a>\n    </div>\n  </div>\n  <div class=\"empty-list\" *ngIf=\"!users.length\">\n    No users was found.\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"usersCount$ | async as usersCount\">\n  <app-pagination *ngIf=\"usersCount > usersItemsCount.value\"\n                  [lastPage]=\"usersPagesCount(usersCount)\"\n                  (pageChanged)=\"loadUsers($event)\">\n  </app-pagination>\n</ng-container>\n\n<ng-container *ngIf=\"userRoles\">\n  <div class=\"modal fade bd-example-modal-lg\" tabindex=\"-1\" role=\"dialog\" id=\"rolesTableModal\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\">Roles</h4>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n        </div>\n        <div class=\"modal-body\" style=\"overflow-x: auto;\">\n          <ul *ngIf=\"userRoles.length\">\n            <li *ngFor=\"let role of userRoles\">{{ role }}</li>\n          </ul>\n          <div class=\"empty-list\" *ngIf=\"!userRoles.length\">\n            No loans was found.\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"roles$ | async as roles\">\n  <div class=\"modal fade\" id=\"rolesModal\" tabindex=\"-1\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\">Roles</h4>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"form-group\">\n            <label for=\"roles\">Roles</label>\n            <select name=\"roles\" id=\"roles\" class=\"form-control\" [formControl]=\"userToApproveRoles\" multiple>\n              <option value=\"\" disabled selected>Select user roles</option>\n              <option *ngFor=\"let role of roles\" [value]=\"role.displayName\">{{ role.displayName }}</option>\n            </select>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" (click)=\"save()\">Done\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ReactiveFormsModule} from \"@angular/forms\";\nimport {NavigationModule} from \"../ui/navigation/navigation.module\";\nimport {PaginationModule} from \"../common/pagination/pagination.module\";\nimport {RouterModule} from \"@angular/router\";\nimport {UsersComponent} from \"./users.component\";\nimport {UserFormComponent} from \"./user-form/user-form.component\";\nimport {NgxSpinnerModule} from \"ngx-spinner\";\n\n@NgModule({\n  declarations: [UsersComponent, UserFormComponent],\n    imports: [\n        ReactiveFormsModule,\n        NavigationModule,\n        CommonModule,\n        PaginationModule,\n        RouterModule,\n        NgxSpinnerModule\n    ]\n})\nexport class UsersModule { }\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import {enableProdMode} from '@angular/core';\r\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\r\n\r\nimport {AppModule} from './app/app.module';\r\nimport {environment} from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"]}